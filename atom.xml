<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>HuisBlog</title>
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://huisblog.cn/"/>
  <updated>2017-06-06T01:48:08.000Z</updated>
  <id>http://huisblog.cn/</id>
  
  <author>
    <name>Hui Zhang</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>逻辑回归(Logistic Regression)</title>
    <link href="http://huisblog.cn/2017/06/03/logisticreg/"/>
    <id>http://huisblog.cn/2017/06/03/logisticreg/</id>
    <published>2017-06-03T07:11:54.000Z</published>
    <updated>2017-06-06T01:48:08.000Z</updated>
    
    <content type="html"><![CDATA[<script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>

<h2 id="分类表达式"><a href="#分类表达式" class="headerlink" title="分类表达式"></a>分类表达式</h2><h3 id="分类和回归"><a href="#分类和回归" class="headerlink" title="分类和回归"></a>分类和回归</h3><ul>
<li>分类问题和回归问题的形式是相似的，但它的预测值是一组有限的离散值。  </li>
<li>分类问题的求解可以看做是找边界线（面）的过程，即拟合边界曲线（面），特征空间内的点分布在该曲线（面）分割出来的不同子空间中；  </li>
<li>而回归问题的求解是拟合特征-预测值曲线（面），特征空间内的点分布在该曲线（面）上或者附近。</li>
</ul>
<h3 id="分类问题的假设表达式"><a href="#分类问题的假设表达式" class="headerlink" title="分类问题的假设表达式"></a>分类问题的假设表达式</h3><h4 id="逻辑函数-Logistic-Function-or-Sigmoid-Function"><a href="#逻辑函数-Logistic-Function-or-Sigmoid-Function" class="headerlink" title="逻辑函数(Logistic Function or Sigmoid Function)"></a>逻辑函数(Logistic Function or Sigmoid Function)</h4><p>使用逻辑函数\(g(z)\)将预测值映射到[0, 1]区间中，使假设函数更适用于分类问题。</p>
<p>$$\begin{align}&amp;<br>h_\theta (x) = g ( \theta^T x )<br>\newline<br>\newline&amp; z = \theta^T x<br>\newline&amp; g(z) = \dfrac{1}{1 + e^{-z}}<br>\end{align}$$</p>
<a id="more"></a>
<p>逻辑函数和输入值：</p>
<img src="/2017/06/03/logisticreg/sigmoid.png" alt="sigmoid.png" title="">
<p>可以注意到：</p>
<p>$$\begin{align}z=0, e^{0}=1 \Rightarrow g(z)=1/2\newline z \to \infty, e^{-\infty} \to 0 \Rightarrow g(z)=1 \newline z \to -\infty, e^{\infty}\to \infty \Rightarrow g(z)=0 \end{align}$$</p>
<h4 id="假设函数的物理意义"><a href="#假设函数的物理意义" class="headerlink" title="假设函数的物理意义"></a>假设函数的物理意义</h4><p>\(h_{\theta}(x)\)表示预测值等于1的可能性：</p>
<p>$$\begin{align}&amp;<br>h_\theta(x) = P(y=1 | x ; \theta) = 1 - P(y=0 | x ; \theta)<br>\newline&amp; P(y = 0 | x;\theta) + P(y = 1 | x ; \theta) = 1<br>\end{align}$$</p>
<h3 id="判定边界-Decision-Boundary"><a href="#判定边界-Decision-Boundary" class="headerlink" title="判定边界(Decision Boundary)"></a>判定边界(Decision Boundary)</h3><p>判定边界是指分隔开不同类特征点的曲线（面），它由\(h_{\theta}(x)\)假设函数决定。<br>例如下面这个例子（二分类）中，判定边界是直线\(x_1=5\)</p>
<p>$$\begin{align}&amp; \theta = \begin{bmatrix}5 \newline -1 \newline 0\end{bmatrix} \newline &amp; y = 1 \; if \; 5 + (-1) x_1 + 0 x_2 \geq 0 \newline &amp; 5 - x_1 \geq 0 \newline &amp; - x_1 \geq -5 \newline&amp; x_1 \leq 5 \newline \end{align}$$</p>
<p>注意逻辑函数(\(e.g. \theta^Tx\))的输入不一定是线性的，它可以是任何适合训练数据的形状，比如圆(\(e.g. z =\theta_0+\theta_1x_1^2+\theta_2x_2^2\))。</p>
<h2 id="逻辑回归模型"><a href="#逻辑回归模型" class="headerlink" title="逻辑回归模型"></a>逻辑回归模型</h2><h3 id="损失函数和梯度下降"><a href="#损失函数和梯度下降" class="headerlink" title="损失函数和梯度下降"></a>损失函数和梯度下降</h3><h4 id="损失函数"><a href="#损失函数" class="headerlink" title="损失函数"></a>损失函数</h4><p>不能直接使用之前线性回归中使用的损失函数\(J(\theta)=\frac{1}{2m}\sum_{i=0}^{i=m}(h_{\theta}(x_i)-y_i)^2\)，使用逻辑函数会导致其发生扭曲，产生许多局部最优点（极小值），换句话说就不再是凸函数了。<br>所以将损失函数修改为：</p>
<p>$$\begin{align}&amp; J(\theta) = \dfrac{1}{m} \sum_{i=1}^m \mathrm{Cost}(h_\theta(x^{(i)}),y^{(i)}) \newline &amp; \mathrm{Cost}(h_\theta(x),y) = -\log(h_\theta(x)) \; &amp; \text{if y = 1} \newline &amp; \mathrm{Cost}(h_\theta(x),y) = -\log(1-h_\theta(x)) \; &amp; \text{if y = 0}\end{align}$$</p>
<p>即：</p>
<p>$$J(\theta) = - \frac{1}{m} \displaystyle \sum_{i=1}^m [y^{(i)}\log (h_\theta (x^{(i)})) + (1 - y^{(i)})\log (1 - h_\theta(x^{(i)}))]$$</p>
<p>向量形式为：</p>
<p>$$\begin{align} &amp; h = g(X\theta)\newline &amp; J(\theta) = \frac{1}{m} \cdot \left(-y^{T}\log(h)-(1-y)^{T}\log(1-h)\right) \end{align}$$</p>
<h4 id="梯度下降"><a href="#梯度下降" class="headerlink" title="梯度下降"></a>梯度下降</h4><p>梯度下降的标准形式：</p>
<p>$$\begin{align}&amp; Repeat \; \lbrace \newline &amp; \; \theta_j := \theta_j - \alpha \dfrac{\partial}{\partial \theta_j}J(\theta) \newline &amp; \rbrace\end{align}$$</p>
<p>代入以上\(J(\theta)\)得到：</p>
<p>$$\begin{align} &amp; Repeat \; \lbrace \newline &amp; \; \theta_j := \theta_j - \frac{\alpha}{m} \sum_{i=1}^m (h_\theta(x^{(i)}) - y^{(i)}) x_j^{(i)} \newline &amp; \rbrace \end{align}$$</p>
<p>向量形式为：</p>
<p>$$\theta := \theta - \frac{\alpha}{m} X^{T} (g(X \theta ) - \vec{y})$$</p>
<h4 id="优化算法"><a href="#优化算法" class="headerlink" title="优化算法"></a>优化算法</h4><p><code>Conjugate gradient</code>、 <code>BFGS</code>和<code>L-BFG</code>是梯度下降的优化算法，MATLAB有提供这几个库函数，使用这几个函数同样需要定义\(J(\theta)\)和\(\dfrac{\partial}{\partial \theta_j}J(\theta)\)。</p>
<figure class="highlight matlab"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="params">[jVal, gradient]</span> = <span class="title">costFunction</span><span class="params">(theta)</span></span></div><div class="line">  jVal = [...code to compute J(theta)...];</div><div class="line">  gradient = [...code to compute derivative of J(theta)...];</div><div class="line"><span class="keyword">end</span></div></pre></td></tr></table></figure>
<p>MATLAB提供了<code>fminunc()</code>函数来实现优化：</p>
<figure class="highlight matlab"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">options = optimset(<span class="string">'GradObj'</span>, <span class="string">'on'</span>, <span class="string">'MaxIter'</span>, <span class="number">100</span>);</div><div class="line">initialTheta = <span class="built_in">zeros</span>(<span class="number">2</span>,<span class="number">1</span>);</div><div class="line">   [optTheta, functionVal, exitFlag] = fminunc(@costFunction, initialTheta, options);</div></pre></td></tr></table></figure>
<h2 id="过拟合-Overfitting-和正则化-Regularization"><a href="#过拟合-Overfitting-和正则化-Regularization" class="headerlink" title="过拟合(Overfitting)和正则化(Regularization)"></a>过拟合(Overfitting)和正则化(Regularization)</h2><p><code>欠拟合(underfitting)</code>或<code>高偏差(high bias)</code>，是指假设函数不足以描述数据趋势，通常由假设函数过于简单或者特征维数太少导致；<br><code>过拟合(overfitting)</code>或<code>高方差(high variance)</code>，是指假设函数对训练集拟合良好但对测试集的通用性差，通常由于假设函数过于复杂或特征维数太高。</p>
<p>解决过拟合问题的常用方法：</p>
<ol>
<li>减少特征维数：手动选择特征、使用模型选择算法；</li>
<li><code>正则化(Regularization)</code>：保留所有特征，但减小参数\(\theta_j\)的量级；正则化在有许多弱相关特征(slightly useful features)的时候很有用。</li>
</ol>
<h3 id="线性回归的正则化"><a href="#线性回归的正则化" class="headerlink" title="线性回归的正则化"></a>线性回归的正则化</h3><h4 id="损失函数正则化"><a href="#损失函数正则化" class="headerlink" title="损失函数正则化"></a>损失函数正则化</h4><p>正则化其实就是通过增加参数在损失函数中的影响来减弱其最后在假设函数中的权重：<br>例如，对于假设函数\(\theta_0 + \theta_1x + \theta_2x^2 + \theta_3x^3 + \theta_4x^4\)，如果想让它变得更加“二次方”，即排除\(\theta_3x^3 \)和\(\theta_4x^4\)的影响，可以通过修改损失函数来实现：</p>
<p>$$min_\theta \dfrac{1}{2m}\sum_{i=1}^m (h_\theta(x^{(i)}) - y^{(i)})^2 + 1000\cdot\theta_3^2 + 1000\cdot\theta_4^2$$</p>
<p>正则化所有参数（除了\(\theta_0\)）：</p>
<p>$$min_\theta \dfrac{1}{2m}  \sum_{i=1}^m (h_\theta(x^{(i)}) - y^{(i)})^2 + \lambda \sum_{j=1}^n \theta_j^2$$</p>
<p>其中\(\lambda\)是<code>正则化系数(regularization parameter)</code>，\(\lambda\)越大，拟合曲线越平滑，但要注意的是\(\lambda\)过大可能导致欠拟合。</p>
<h4 id="梯度下降正则化"><a href="#梯度下降正则化" class="headerlink" title="梯度下降正则化"></a>梯度下降正则化</h4><p>对于线性回归而言，正则化后的梯度下降：</p>
<p>$$\begin{align} &amp; \text{Repeat} \lbrace \newline &amp;     \theta_0 := \theta_0 - \alpha \frac{1}{m} \sum_{i=1}^m (h_\theta(x^{(i)}) - y^{(i)})x_0^{(i)} \newline &amp;     \theta_j := \theta_j - \alpha \left[ \left( \frac{1}{m} \sum_{i=1}^m (h_\theta(x^{(i)}) - y^{(i)})x_j^{(i)} \right) + \frac{\lambda}{m}\theta_j \right] &amp;          j \in \lbrace 1,2…n\rbrace\newline &amp; \rbrace \end{align}$$ </p>
<h4 id="法方程正则化"><a href="#法方程正则化" class="headerlink" title="法方程正则化"></a>法方程正则化</h4><p>正则化后的法方程可以写为：</p>
<p>$$\begin{align}&amp; \theta = \left( X^TX + \lambda \cdot L \right)^{-1} X^Ty \newline&amp; \text{where}  L = \begin{bmatrix} 0 &amp; &amp; &amp; &amp; \newline &amp; 1 &amp; &amp; &amp; \newline &amp; &amp; 1 &amp; &amp; \newline &amp; &amp; &amp; \ddots &amp; \newline &amp; &amp; &amp; &amp; 1 \newline\end{bmatrix}\end{align}$$</p>
<p>要注意梯度下降中的下标\(j\)是从1开始的，同样，法方程中\(\lambda(1,1)=0\)，这是因为截取项\(\theta_0\)是不需要正则化的。</p>
<h3 id="逻辑回归的正则化"><a href="#逻辑回归的正则化" class="headerlink" title="逻辑回归的正则化"></a>逻辑回归的正则化</h3><h4 id="正则化后的损失函数"><a href="#正则化后的损失函数" class="headerlink" title="正则化后的损失函数"></a>正则化后的损失函数</h4><p>逻辑回归的损失函数加上正则化项：</p>
<p>$$J(\theta) = - \frac{1}{m} \sum_{i=1}^m [ y^{(i)} \log (h_\theta (x^{(i)})) + (1 - y^{(i)}) \log (1 - h_\theta(x^{(i)}))] + \frac{\lambda}{2m}\sum_{j=1}^n \theta_j^2$$</p>
<p>注意\(\sum_{j=1}^n \theta_j^2\)下标从1开始，在梯度下降中也要特别注意\(\theta_0\)的更新。</p>
<h4 id="正则化后的梯度下降"><a href="#正则化后的梯度下降" class="headerlink" title="正则化后的梯度下降"></a>正则化后的梯度下降</h4><p>$$\begin{align} &amp; \text{Repeat} \lbrace \newline &amp;     \theta_0 := \theta_0 - \alpha \frac{1}{m} \sum_{i=1}^m (h_\theta(x^{(i)}) - y^{(i)})x_0^{(i)} \newline &amp;     \theta_j := \theta_j - \alpha \left[ \left( \frac{1}{m} \sum_{i=1}^m (h_\theta(x^{(i)}) - y^{(i)})x_j^{(i)} \right) + \frac{\lambda}{m}\theta_j \right] &amp;          j \in \lbrace 1,2…n\rbrace\newline &amp; \rbrace \end{align}$$ </p>
<h2 id="多值分类"><a href="#多值分类" class="headerlink" title="多值分类"></a>多值分类</h2><p>当预测分类值有多个，如\(y={0,1,2,…,n}\)时，可以将其看做\(n+1\)个二值分类问题：对于每一类，将其看做一类而其他所有的看做一类。</p>
<p>$$\begin{align}&amp; y \in \lbrace0, 1 … n\rbrace \newline&amp; h_\theta^{(0)}(x) = P(y = 0 | x ; \theta) \newline&amp; h_\theta^{(1)}(x) = P(y = 1 | x ; \theta) \newline&amp; \cdots \newline&amp; h_\theta^{(n)}(x) = P(y = n | x ; \theta) \newline&amp; \mathrm{prediction} = \max_i( h_\theta ^{(i)}(x) )\newline\end{align}$$</p>
<ol>
<li>训练时，对每一类做二值逻辑回归分类器训练；</li>
<li>预测时，计算每类的预测值，最大的为结果。</li>
</ol>
<p>举个例子（3值分类）：</p>
<img src="/2017/06/03/logisticreg/3classes.png" alt="3classes.png" title="">
]]></content>
    
    <summary type="html">
    
      &lt;script type=&quot;text/javascript&quot; async
  src=&quot;https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML&quot;&gt;
&lt;/script&gt;

&lt;h2 id=&quot;分类表达式&quot;&gt;&lt;a href=&quot;#分类表达式&quot; class=&quot;headerlink&quot; title=&quot;分类表达式&quot;&gt;&lt;/a&gt;分类表达式&lt;/h2&gt;&lt;h3 id=&quot;分类和回归&quot;&gt;&lt;a href=&quot;#分类和回归&quot; class=&quot;headerlink&quot; title=&quot;分类和回归&quot;&gt;&lt;/a&gt;分类和回归&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;分类问题和回归问题的形式是相似的，但它的预测值是一组有限的离散值。  &lt;/li&gt;
&lt;li&gt;分类问题的求解可以看做是找边界线（面）的过程，即拟合边界曲线（面），特征空间内的点分布在该曲线（面）分割出来的不同子空间中；  &lt;/li&gt;
&lt;li&gt;而回归问题的求解是拟合特征-预测值曲线（面），特征空间内的点分布在该曲线（面）上或者附近。&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;分类问题的假设表达式&quot;&gt;&lt;a href=&quot;#分类问题的假设表达式&quot; class=&quot;headerlink&quot; title=&quot;分类问题的假设表达式&quot;&gt;&lt;/a&gt;分类问题的假设表达式&lt;/h3&gt;&lt;h4 id=&quot;逻辑函数-Logistic-Function-or-Sigmoid-Function&quot;&gt;&lt;a href=&quot;#逻辑函数-Logistic-Function-or-Sigmoid-Function&quot; class=&quot;headerlink&quot; title=&quot;逻辑函数(Logistic Function or Sigmoid Function)&quot;&gt;&lt;/a&gt;逻辑函数(Logistic Function or Sigmoid Function)&lt;/h4&gt;&lt;p&gt;使用逻辑函数\(g(z)\)将预测值映射到[0, 1]区间中，使假设函数更适用于分类问题。&lt;/p&gt;
&lt;p&gt;$$\begin{align}&amp;amp;&lt;br&gt;h_\theta (x) = g ( \theta^T x )&lt;br&gt;\newline&lt;br&gt;\newline&amp;amp; z = \theta^T x&lt;br&gt;\newline&amp;amp; g(z) = \dfrac{1}{1 + e^{-z}}&lt;br&gt;\end{align}$$&lt;/p&gt;
    
    </summary>
    
      <category term="NG_ML" scheme="http://huisblog.cn/categories/NG-ML/"/>
    
    
      <category term="ML" scheme="http://huisblog.cn/tags/ML/"/>
    
  </entry>
  
  <entry>
    <title>多变量线性回归</title>
    <link href="http://huisblog.cn/2017/06/03/multilinear/"/>
    <id>http://huisblog.cn/2017/06/03/multilinear/</id>
    <published>2017-06-03T07:06:05.000Z</published>
    <updated>2017-06-03T08:59:22.000Z</updated>
    
    <content type="html"><![CDATA[<script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


<h2 id="多变量线性回归假设函数"><a href="#多变量线性回归假设函数" class="headerlink" title="多变量线性回归假设函数"></a>多变量线性回归假设函数</h2><p>多变量假设函数的标准形式(multivariable hypothesis function)  </p>
<p>$$<br>\begin{align}h_\theta(x) =\begin{bmatrix}\theta_0 \hspace{2em} \theta_1 \hspace{2em} … \hspace{2em} \theta_n\end{bmatrix}\begin{bmatrix}x_0 \newline x_1 \newline \vdots \newline x_n\end{bmatrix}= \theta^T x\end{align}<br>$$</p>
<a id="more"></a>
<h2 id="多变量的梯度下降"><a href="#多变量的梯度下降" class="headerlink" title="多变量的梯度下降"></a>多变量的梯度下降</h2><p>$$<br>\begin{align}&amp; \text{Repeat until convergence:} \; \lbrace \newline \; &amp; \theta_j := \theta_j - \alpha \frac{1}{m} \sum\limits_{i=1}^{m} (h_\theta(x^{(i)}) - y^{(i)}) \cdot x_j^{(i)} \; &amp; \text{for j := 0…n}\newline \rbrace\end{align}<br>$$</p>
<ul>
<li><code>特征缩放(Feature Scaling)</code>和<code>均值正规化(mean normalization)</code>可以加快梯度下降的速度（缩小范围，减少迭代次数）。</li>
</ul>
<p>$$<br>x_i := \dfrac{x_i - \mu_i}{s_i}<br>$$</p>
<ul>
<li><code>学习速率(Learning Rate)</code>：现已证明，如果学习速率\(\alpha\)充分小，则损失函数\(J(\theta)\)会（单调递减）随着迭代次数的增加而减小。总之<code>阈值(threshold)</code>很难确定。<br>若\(\alpha\)太小，则收敛速度慢；<br>若\(\alpha\)太大，则损失函数可能不单调递减而不收敛。</li>
</ul>
<h3 id="多项式回归"><a href="#多项式回归" class="headerlink" title="多项式回归"></a>多项式回归</h3><p>多元函数和多项式函数的转换：</p>
<p>$$<br>h_\theta(x) = \theta_0 + \theta_1 x_1 + \theta_2 x_1^2 + \theta_3 x_1^3<br>$$</p>
<p>可转换为</p>
<p>$$<br>h_\theta(x) = \theta_0 + \theta_1 x_1 + \theta_2 x_2 + \theta_3 x_3<br>$$</p>
<p>即\(x_2 = x_1^2, x_3 = x_1^3\)，此时需要特别注意的是<code>featrue scaling</code>：如果\(x_1\)取值[1,1000]，那么\(x_2\)的取值范围将是[1,1000000]，\(x_3\)则是[1,1000000000]。</p>
<h2 id="使用法方程-Normal-Equation-进行参数计算"><a href="#使用法方程-Normal-Equation-进行参数计算" class="headerlink" title="使用法方程(Normal Equation)进行参数计算"></a>使用法方程(Normal Equation)进行参数计算</h2><p>线性回归的法方程：</p>
<p>$$<br>\theta = (X^T X)^{-1}X^T y<br>$$</p>
<p>注意，法方程中的\(X\)维数是\(m\times (n+1)\)，因为加了一列全是1的列向量以保存\(\theta_0\)，即<code>截距项(intercept term)</code>。</p>
<table>
<thead>
<tr>
<th>梯度下降</th>
<th>法方程</th>
</tr>
</thead>
<tbody>
<tr>
<td>需要选择\(\alpha\)</td>
<td>无需选择\(\alpha\)</td>
</tr>
<tr>
<td>需要迭代</td>
<td>无需迭代</td>
</tr>
<tr>
<td>\(O(kn^2)\)（\(k\)是迭代次数）</td>
<td>\(O(n^3)\)（矩阵求逆具有三次方的复杂度）</td>
</tr>
<tr>
<td>特征数量\(n\)很大的时候效果很好</td>
<td>\(n\)很大的时候非常慢(&lt;10000)</td>
</tr>
</tbody>
</table>
<h3 id="法方程不可逆"><a href="#法方程不可逆" class="headerlink" title="法方程不可逆"></a>法方程不可逆</h3><p>法方程有解的充分条件是\(X^TX\)可逆，而一些常见的因素可能会导致其不可逆：</p>
<ol>
<li>冗余特征(Redundant features)，即可能有多个特征强相关（线性相关）–&gt; 删除相关特征</li>
<li>过多特征 (e.g. m ≤ n)，即特征数量超过样本数量 –&gt; 减少特征</li>
</ol>
]]></content>
    
    <summary type="html">
    
      &lt;script type=&quot;text/javascript&quot; async
  src=&quot;https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML&quot;&gt;
&lt;/script&gt;


&lt;h2 id=&quot;多变量线性回归假设函数&quot;&gt;&lt;a href=&quot;#多变量线性回归假设函数&quot; class=&quot;headerlink&quot; title=&quot;多变量线性回归假设函数&quot;&gt;&lt;/a&gt;多变量线性回归假设函数&lt;/h2&gt;&lt;p&gt;多变量假设函数的标准形式(multivariable hypothesis function)  &lt;/p&gt;
&lt;p&gt;$$&lt;br&gt;\begin{align}h_\theta(x) =\begin{bmatrix}\theta_0 \hspace{2em} \theta_1 \hspace{2em} … \hspace{2em} \theta_n\end{bmatrix}\begin{bmatrix}x_0 \newline x_1 \newline \vdots \newline x_n\end{bmatrix}= \theta^T x\end{align}&lt;br&gt;$$&lt;/p&gt;
    
    </summary>
    
      <category term="NG_ML" scheme="http://huisblog.cn/categories/NG-ML/"/>
    
    
      <category term="ML" scheme="http://huisblog.cn/tags/ML/"/>
    
  </entry>
  
  <entry>
    <title>交叉数据集和交叉文化下的音乐情感识别</title>
    <link href="http://huisblog.cn/2017/05/31/crossregression/"/>
    <id>http://huisblog.cn/2017/05/31/crossregression/</id>
    <published>2017-05-31T12:52:38.000Z</published>
    <updated>2017-05-31T16:07:54.000Z</updated>
    
    <content type="html"><![CDATA[<script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>

<p>本文是作者在阅读<em>Cross-dataset and Cross-cultural Music Mood Prediction: A Case on Western and Chinese Pop Songs</em>这篇论文后的阅读笔记和总结感想。</p>
<a id="more"></a>
<h2 id="研究概述"><a href="#研究概述" class="headerlink" title="研究概述"></a>研究概述</h2><p>很少有人研究情感回归模型在交叉数据集中的泛化能力（generalizability），或者说通用性，尤其是跨文化的音乐情感研究就更少了。<em>Hu X</em>和<em>Yang Y H</em>提取了3个不同文化背景流行音乐数据集的5种音乐情感特征集，评估了它们训练的情感回归模型的性能，特别是在交叉数据集上的适用性。</p>
<p>他们还设计进行了5个实验来探究<code>数据集大小</code>、<code>标记可靠性</code>、<code>音乐文化背景</code>和<code>注释者文化背景</code>对情感回归模型的<code>性能(performances)</code>以及<code>泛化能力(generalizability)</code>的影响。</p>
<p>整个研究回答了两个问题:</p>
<ol>
<li>哪种声学特征对音乐情感回归影响最大？在单一数据集内或者交叉数据集的情况下一样吗？</li>
<li>使用一个数据集训练的情感回归模型适用于另一个数据集吗？数据集的大小、标记可靠程度和文化背景如何影响模型在交叉数据集下的泛化能力。</li>
</ol>
<h2 id="实验材料"><a href="#实验材料" class="headerlink" title="实验材料"></a>实验材料</h2><h3 id="3个不同文化背景下的流行音乐数据集"><a href="#3个不同文化背景下的流行音乐数据集" class="headerlink" title="3个不同文化背景下的流行音乐数据集"></a>3个不同文化背景下的流行音乐数据集</h3><table>
<thead>
<tr>
<th></th>
<th></th>
<th>MER60</th>
<th>CH818</th>
<th>AMG1608</th>
</tr>
</thead>
<tbody>
<tr>
<td>Music</td>
<td>Format</td>
<td>Audio (mp3)</td>
<td>Audio (mp3)</td>
<td>Audio (mp3)</td>
</tr>
<tr>
<td></td>
<td>Size</td>
<td>60</td>
<td>818</td>
<td>1608</td>
</tr>
<tr>
<td></td>
<td>Culture</td>
<td>Western</td>
<td>Chinese</td>
<td>Western</td>
</tr>
<tr>
<td></td>
<td>Length</td>
<td>30 seconds</td>
<td>30 seconds</td>
<td>30 seconds</td>
</tr>
<tr>
<td></td>
<td>Segment selection</td>
<td><code>Chorus part</code>; <code>manual selected</code></td>
<td><code>Segment with the strongest emotion</code></td>
<td>Audio previews from 7 digital</td>
</tr>
<tr>
<td>Annotators</td>
<td>Type</td>
<td>Volunteers</td>
<td><code>Experts</code></td>
<td>MTurk workers</td>
</tr>
<tr>
<td></td>
<td>Culture</td>
<td>Chinese</td>
<td>Chinese</td>
<td>Western</td>
</tr>
<tr>
<td></td>
<td>Number</td>
<td>40 per clip</td>
<td>3 per clip</td>
<td>15–32 per clip</td>
</tr>
<tr>
<td></td>
<td>Scale</td>
<td>Continuous [-5, 5]</td>
<td>Continuous [-10, 10]</td>
<td>Continuous [-1, 1]</td>
</tr>
<tr>
<td>Annotations</td>
<td>Dimensions</td>
<td>V.A.</td>
<td>V.A.</td>
<td>V.A.</td>
</tr>
<tr>
<td></td>
<td>Interface</td>
<td>2-D interactive interface</td>
<td>two separate sliding bars</td>
<td>2-D interactive interface</td>
</tr>
<tr>
<td></td>
<td>Emotion</td>
<td>Intended</td>
<td>Intended</td>
<td>Intended</td>
</tr>
<tr>
<td></td>
<td>\(\alpha\)</td>
<td>V: 0.387; A: 0.704</td>
<td>V: 0.491; A: 0.617</td>
<td>V: 0.306; A: 0.458</td>
</tr>
</tbody>
</table>
<ul>
<li>其中，\(\alpha\)是指<code>Krippendorff’s alpha</code>，用以量化标记可靠性；</li>
<li>CH818使用回归模型自动识别提取了情感最为强烈\((|valence|^2+|arousal|^2)\)的30秒；</li>
<li>CH818用<code>Pearson相关系数</code>表明了3个专家的打分是合理的（和均值非常接近）；</li>
<li>AMG1608的每10个音乐片段中有1个复制，如果复制的音乐片段打分误差超过10%，该注释者的打分数据将会被删除。</li>
</ul>
<h3 id="5种声学特征（15个特征集合）"><a href="#5种声学特征（15个特征集合）" class="headerlink" title="5种声学特征（15个特征集合）"></a>5种声学特征（15个特征集合）</h3><img src="/2017/05/31/crossregression/features.png" alt="features.png" title="">
<h3 id="1个回归算法"><a href="#1个回归算法" class="headerlink" title="1个回归算法"></a>1个回归算法</h3><ul>
<li><code>Support Vector Regression(SVR)</code>模型 </li>
<li>使用<code>径向基函数(RBF)</code>作为核函数</li>
<li>通过<code>网格搜索</code>优化参数C和gamma</li>
</ul>
<h2 id="实验设计"><a href="#实验设计" class="headerlink" title="实验设计"></a>实验设计</h2><p>首先，分别在2个维度下，评估15个单一数据集在9个数据集组合上（3个单一数据集，6个交叉数据集）的回归表现，用<code>step-wise forward feature selection algorithm</code>（一种贪婪算法，用局部最优近似全局最优）来选择特征集组合。</p>
<p>使用上述步骤中选择的特征进行5个实验：</p>
<img src="/2017/05/31/crossregression/experiments.png" alt="experiments.png" title="">
<ul>
<li>实验1用以表明融合特征集比单一特征集效果有所提升；</li>
<li>实验2控制数据集大小，与实验1比较以验证数据集大小对预测能力的影响；</li>
<li>实验3控制训练集标记的可靠程度，与实验2比较以验证训练集标记可靠性对预测能力的影响；</li>
<li>实验4控制训练集和测试集的标记可靠性，与实验3比较以验证测试集标记可靠性对预测能力的影响；</li>
<li>实验5改变训练集和测试集的标记可靠性，得到一系列组合，以量化标记可靠程度对预测能力的影响。</li>
</ul>
<h2 id="实验结果"><a href="#实验结果" class="headerlink" title="实验结果"></a>实验结果</h2><h3 id="问题一-情感回归的音频特征"><a href="#问题一-情感回归的音频特征" class="headerlink" title="[问题一] 情感回归的音频特征"></a>[问题一] 情感回归的音频特征</h3><ol>
<li>愉悦度维度的特征选择：loudness_ psysound、harmony_psysound、timbre_psysound；</li>
<li>唤醒度维度的特征选择：timbre_psysound、rhythm_mirtb；</li>
<li>单独的<code>Loudness</code>和<code>Timbre</code>特征在愉悦度和唤醒度上表现都非常好；</li>
<li>单独的<code>Rhythm</code>特征对愉悦度预测有效；</li>
<li>单独的<code>Chroma</code>特征有助于唤醒度预测，且对单一数据集内的愉悦度预测有用；</li>
<li><code>Harmony</code>特征有利于单一数据集内的愉悦度预测，但与唤醒度预测无关；</li>
<li>多种特征的联合可以提高模型的预测能力，尤其是在愉悦度维度。</li>
</ol>
<h3 id="问题二-交叉数据集通用性"><a href="#问题二-交叉数据集通用性" class="headerlink" title="[问题二] 交叉数据集通用性"></a>[问题二] 交叉数据集通用性</h3><ol>
<li>训练集越大，愉悦度和唤醒度的预测越好；</li>
<li>平衡训练集和测试集的标记可靠性对交叉数据集愉悦度预测有用，而可靠程度越高，唤醒度预测越准；</li>
<li>在愉悦度维度，相同的文化背景对交叉数据集预测非常重要，如果歌曲本身和打标签的人都是不同文化背景下的，那么模型的泛化能力将无法保证，除非训练集和测试集都有相当高的标记可靠性；但文化背景对唤醒度预测影响不大，只要相关数据集的标记可靠性不是太低，情感回归模型在交叉数据集的表现和单一数据集内的表现相似。</li>
</ol>
<h2 id="启发和收获"><a href="#启发和收获" class="headerlink" title="启发和收获"></a>启发和收获</h2><ol>
<li>数据集标签的评估量化数值<code>Krippendorff’s alpha</code></li>
<li>AMG1608注释者的标记质量控制策略</li>
<li>多特征集的融合互补有助于提高预测能力</li>
<li>该论文的实验设计逻辑非常严谨，变量控制严格，值得学习；</li>
<li>实验的结果分析和结论不一样，结果分析应该就实验数据表现的方方面面都做以分析，甚至可以发掘到意料之外的有意思信息；而结论则是回答实验之初提出的问题。</li>
</ol>
<h2 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h2><p>[1] <em>Hu X, Yang Y H. Cross-dataset and Cross-cultural Music Mood Prediction: A Case on Western and Chinese Pop Songs[J]. IEEE Transactions on Affective Computing, 2016.</em></p>
]]></content>
    
    <summary type="html">
    
      &lt;script type=&quot;text/javascript&quot; async
  src=&quot;https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML&quot;&gt;
&lt;/script&gt;

&lt;p&gt;本文是作者在阅读&lt;em&gt;Cross-dataset and Cross-cultural Music Mood Prediction: A Case on Western and Chinese Pop Songs&lt;/em&gt;这篇论文后的阅读笔记和总结感想。&lt;/p&gt;
    
    </summary>
    
    
      <category term="MER" scheme="http://huisblog.cn/tags/MER/"/>
    
      <category term="dataset" scheme="http://huisblog.cn/tags/dataset/"/>
    
  </entry>
  
  <entry>
    <title>离散傅里叶变换(DFT)</title>
    <link href="http://huisblog.cn/2017/05/25/dft/"/>
    <id>http://huisblog.cn/2017/05/25/dft/</id>
    <published>2017-05-25T09:46:15.000Z</published>
    <updated>2017-06-06T12:33:13.000Z</updated>
    
    <content type="html"><![CDATA[<script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>

<p>对于音频信号处理而言，<code>离散傅里叶变化(DFT)</code>是最最常用的函数工具。它将信号的时域采样变换为其<code>离散时间傅里叶变化(DTFT)</code>的频域采样（在\([0,2\pi]\)之间进行均匀采样）,最后得到数字信号在区间\([0,(k-1)f_s/N]\)内的离散频谱值。</p>
<p>在形式上，变换两端（时域和频域上）的序列是有限长的，而实际上这两组序列都应当被认为是离散周期信号的主值序列。即使对有限长的离散信号作DFT，也应当将其看作其周期延拓的变换。</p>
<p>DFT的变化等式为：<br>$$X[k]=  \sum_{n=0}^{N-1}{x[n]e^{−j2{\pi}kn/N}}   (k=0,…,N−1)$$<br><a id="more"></a></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># DFT的Python实现</span></div><div class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">DFT</span><span class="params">(x)</span>:</span></div><div class="line">    <span class="string">"""</span></div><div class="line">    Input:</div><div class="line">        x (numpy array) = input time sequence of N samples</div><div class="line">    Output:</div><div class="line">        X (numpy array) = The N point DFT of the input sequence x</div><div class="line">    """</div><div class="line"></div><div class="line">    N = len(x)</div><div class="line">    n = np.arange(N)</div><div class="line">    X = np.array([])</div><div class="line"></div><div class="line">    <span class="keyword">for</span> k <span class="keyword">in</span> range(N):</div><div class="line">        Xk = sum(x*np.conjugate(np.exp(<span class="number">1j</span>*<span class="number">2</span>*np.pi*k/N * n)))</div><div class="line">        X = np.append(X, Xk)</div><div class="line"></div><div class="line">    <span class="keyword">return</span> X</div></pre></td></tr></table></figure>
<p>DFT的逆变化：</p>
<p>$$x[n]=  \frac{1}{N}\sum_{k=0}^{N-1}{X[k]e^{j2{\pi}nk/N}}   (n=0,…,N−1)$$</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># IDFT的Python实现</span></div><div class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">IDFT</span><span class="params">(x)</span>:</span></div><div class="line">     <span class="string">"""</span></div><div class="line">    Input:</div><div class="line">        X (numpy array) = frequency spectrum (length N)</div><div class="line">    Output:</div><div class="line">        The function should return a numpy array of length N </div><div class="line">        x (numpy array) = The N point IDFT of the frequency spectrum X</div><div class="line">    """</div><div class="line">    </div><div class="line">    x = np.array([])</div><div class="line">    N = len(X)</div><div class="line"></div><div class="line">    <span class="keyword">for</span> n <span class="keyword">in</span> range(N):</div><div class="line">        xn = <span class="number">1.0</span>/N * sum(X*np.exp(<span class="number">1j</span>*<span class="number">2</span>*np.pi*n/N * np.arange(N)))</div><div class="line">        x = np.append(x,xn)</div><div class="line">        </div><div class="line">    <span class="keyword">return</span> x</div></pre></td></tr></table></figure>
<h2 id="DFT的几条重要性质"><a href="#DFT的几条重要性质" class="headerlink" title="DFT的几条重要性质"></a>DFT的几条重要性质</h2><p>备注：\(x[n]\)是时域信号，\(X[k]\)是相应的频域信号；\(mX=20\log_{10}(|X|)\)是幅度谱(dB)，\(pX=\angle{X} \)是相位谱。</p>
<p>P1. 线性性质(Linearity)<br>$$ax_1[n]+bx_2[n] \Leftrightarrow aX_1[k]+bX_2[k] $$</p>
<p>P2. 时移性和频移性(Shift) ：移动之后幅度谱不变相位谱改变。<br>$$x[n-n_0] \Leftrightarrow e^{-j2{\pi}kn_0/N}X[k] $$</p>
<p>P3. 对称性(Symmetry)：<br>$$\begin{align} x[n]real \Leftrightarrow \mathfrak{R}(X[k])even{\quad}and{\quad}\mathfrak{I}(X[k])odd \newline \Leftrightarrow |X[k]|even \quad and \quad \angle{X[k]}odd \quad \end{align}$$</p>
<p>$$\begin{align} x[n]real\&amp;even \Leftrightarrow \mathfrak{R}(X[k])even{\quad}and{\quad}\mathfrak{I}(X[k])=0 \newline \Leftrightarrow |X[k]|even \quad and \quad \angle{X[k]}=n\pi \quad \end{align}$$</p>
<p>P4. 卷积定理(Convolution)<br>$$x_1[n]\otimes x_2[n] \Leftrightarrow X_1[K]X_2[K]$$</p>
<h2 id="DFT中的处理方法"><a href="#DFT中的处理方法" class="headerlink" title="DFT中的处理方法"></a>DFT中的处理方法</h2><ul>
<li>Energy conservation  </li>
<li>Phase unwrapping</li>
<li>Zero padding</li>
<li>Fast Fourier Transform (FFT) </li>
<li>FFT and zero-phase windowing </li>
<li>Analysis/synthesis</li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;script type=&quot;text/javascript&quot; async
  src=&quot;https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML&quot;&gt;
&lt;/script&gt;

&lt;p&gt;对于音频信号处理而言，&lt;code&gt;离散傅里叶变化(DFT)&lt;/code&gt;是最最常用的函数工具。它将信号的时域采样变换为其&lt;code&gt;离散时间傅里叶变化(DTFT)&lt;/code&gt;的频域采样（在\([0,2\pi]\)之间进行均匀采样）,最后得到数字信号在区间\([0,(k-1)f_s/N]\)内的离散频谱值。&lt;/p&gt;
&lt;p&gt;在形式上，变换两端（时域和频域上）的序列是有限长的，而实际上这两组序列都应当被认为是离散周期信号的主值序列。即使对有限长的离散信号作DFT，也应当将其看作其周期延拓的变换。&lt;/p&gt;
&lt;p&gt;DFT的变化等式为：&lt;br&gt;$$X[k]=  \sum_{n=0}^{N-1}{x[n]e^{−j2{\pi}kn/N}}   (k=0,…,N−1)$$&lt;br&gt;
    
    </summary>
    
      <category term="Audio Signal Processing" scheme="http://huisblog.cn/categories/Audio-Signal-Processing/"/>
    
    
      <category term="MIR" scheme="http://huisblog.cn/tags/MIR/"/>
    
  </entry>
  
  <entry>
    <title>音频信号处理基础数学和工具</title>
    <link href="http://huisblog.cn/2017/05/18/ASPbasic/"/>
    <id>http://huisblog.cn/2017/05/18/ASPbasic/</id>
    <published>2017-05-18T09:46:15.000Z</published>
    <updated>2017-05-25T09:52:27.000Z</updated>
    
    <content type="html"><![CDATA[<p>本文记录一下学习<code>音频信号处理(Audio Signal Processing)</code>过程中遇到的基础数学和实用工具。</p>
<a id="more"></a>
<h2 id="简单的数学基础"><a href="#简单的数学基础" class="headerlink" title="简单的数学基础"></a>简单的数学基础</h2><ul>
<li>正弦函数(Sinusoidal function)</li>
<li>复数(Complex numbers)</li>
<li>欧拉公式(Euler’s formula)</li>
<li>复正弦曲线(Complex sinusoids)</li>
<li>内积(Scalar product of sequences)</li>
<li>奇偶函数(even and odd functions)</li>
<li>卷积(Convolutiond)</li>
</ul>
<h2 id="音频可视化、编辑、分析工具"><a href="#音频可视化、编辑、分析工具" class="headerlink" title="音频可视化、编辑、分析工具"></a>音频可视化、编辑、分析工具</h2><ul>
<li>Audacity</li>
<li>SonicVisualizer</li>
<li>sms-tools</li>
</ul>
<h2 id="Python音频处理工具库"><a href="#Python音频处理工具库" class="headerlink" title="Python音频处理工具库"></a>Python音频处理工具库</h2><ul>
<li><a href="http://essentia.upf.edu/documentation/" target="_blank" rel="external">essentia</a></li>
<li><a href="https://github.com/librosa/librosa" target="_blank" rel="external">librosa</a></li>
<li><a href="https://github.com/MTG/sms-tools" target="_blank" rel="external">sms-tools</a></li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;本文记录一下学习&lt;code&gt;音频信号处理(Audio Signal Processing)&lt;/code&gt;过程中遇到的基础数学和实用工具。&lt;/p&gt;
    
    </summary>
    
      <category term="Audio Signal Processing" scheme="http://huisblog.cn/categories/Audio-Signal-Processing/"/>
    
    
      <category term="MIR" scheme="http://huisblog.cn/tags/MIR/"/>
    
  </entry>
  
  <entry>
    <title>《the Craft of Research》第一部分</title>
    <link href="http://huisblog.cn/2017/05/17/ResearchCraft/P1/"/>
    <id>http://huisblog.cn/2017/05/17/ResearchCraft/P1/</id>
    <published>2017-05-17T14:03:28.000Z</published>
    <updated>2017-05-17T14:57:25.000Z</updated>
    
    <content type="html"><![CDATA[<p><a href="http://mypage.zju.edu.cn/en/zhangkejun" target="_blank" rel="external">导师</a>推荐的一本书<em>the Craft of Research</em>，今天终于开始拜读，希望能有一些对于研究工作的启发。</p>
<a id="more"></a>
<h2 id="Thinking-in-print"><a href="#Thinking-in-print" class="headerlink" title="Thinking in print"></a>Thinking in print</h2><h3 id="什么是研究？"><a href="#什么是研究？" class="headerlink" title="什么是研究？"></a>什么是研究？</h3><p>研究是一个搜集资料，回答问题以解决难题的过程。</p>
<h3 id="为什么要写下来？"><a href="#为什么要写下来？" class="headerlink" title="为什么要写下来？"></a>为什么要写下来？</h3><p>以书面形式来思考有助于记忆、了解和获得新的观点。<br><code>“只有从快速混乱的思维中将特定的想法分离出来，并以一种有组织、有条理的形式确定下来，才能知道自己真正能思考什么。”</code></p>
<h3 id="研究报告为什么要正式？"><a href="#研究报告为什么要正式？" class="headerlink" title="研究报告为什么要正式？"></a>研究报告为什么要正式？</h3><p>要以读者的角度来思考。以别人的标准和价值去检验自己的想法可以让我们更加理解自己和自己的想法。为别人写作会比为自己写作的要求更严格。</p>
<h2 id="与读者对话"><a href="#与读者对话" class="headerlink" title="与读者对话"></a>与读者对话</h2><h3 id="明确作者的角色"><a href="#明确作者的角色" class="headerlink" title="明确作者的角色"></a>明确作者的角色</h3><ul>
<li>我找到一些真的很有趣的东西</li>
<li>对你很重要的实际难题，我找到了一个解决方案</li>
<li>我找到了一个对于你而言很重要的问题的答案</li>
</ul>
<h3 id="明确读者的角色"><a href="#明确读者的角色" class="headerlink" title="明确读者的角色"></a>明确读者的角色</h3><ul>
<li>用一些我不知道但有趣的事情来让我愉悦 –&gt; 对我的题目一无所知的一般读者？</li>
<li>帮我解决实际问题 –&gt; 信息充分的一般人员?</li>
<li>帮助我了解更多的事物 –&gt; 专业人员?</li>
</ul>
<h3 id="团队写作"><a href="#团队写作" class="headerlink" title="团队写作"></a>团队写作</h3><p>成功合作的三个关键：经常讨论(talk a lot)、容许异议(agree to disagree)、组织与规划(organize and plan)<br>团体工作的三个策略：分工委派(delete and delegate)、同步进行(work side by side)、轮流进行(take turns)</p>
<h2 id="给研究新手的建议"><a href="#给研究新手的建议" class="headerlink" title="给研究新手的建议"></a>给研究新手的建议</h2><ol>
<li>明白不确定感和焦虑是无法避免的，不要持续跟自己过不去，这是缺乏经验的现象；</li>
<li>随时书写概述、评论和问题；</li>
<li>把整个过程分成可处理的数个步骤；</li>
<li>与导师及时沟通，期待他们的帮助。</li>
</ol>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;a href=&quot;http://mypage.zju.edu.cn/en/zhangkejun&quot;&gt;导师&lt;/a&gt;推荐的一本书&lt;em&gt;the Craft of Research&lt;/em&gt;，今天终于开始拜读，希望能有一些对于研究工作的启发。&lt;/p&gt;
    
    </summary>
    
      <category term="the Craft of Research" scheme="http://huisblog.cn/categories/the-Craft-of-Research/"/>
    
    
      <category term="efficiency" scheme="http://huisblog.cn/tags/efficiency/"/>
    
  </entry>
  
  <entry>
    <title>50首流行音乐的收集处理</title>
    <link href="http://huisblog.cn/2017/05/16/50M/"/>
    <id>http://huisblog.cn/2017/05/16/50M/</id>
    <published>2017-05-16T01:32:01.000Z</published>
    <updated>2017-05-16T02:40:23.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="实验目的"><a href="#实验目的" class="headerlink" title="实验目的"></a>实验目的</h2><p>为后续的大规模音乐数据集建立工作试水，希望能在这个过程中发现之前没有注意到的问题，并提出相应解决方案。</p>
<a id="more"></a>
<h2 id="音乐收集和预处理"><a href="#音乐收集和预处理" class="headerlink" title="音乐收集和预处理"></a>音乐收集和预处理</h2><p>从<a href="https://y.qq.com/n/yqq/toplist/107.html" target="_blank" rel="external">英国UK榜第19周榜单</a>下载流行乐37首，分发给13位同学裁剪并打分。（每人3首左右，这里音乐不重复打分，但在正式实验中每首歌需要10个左右受试者打分）最后回收到：</p>
<ul>
<li>34首音乐片段（裁剪高潮部分，30秒左右，正式实验中需要45秒左右）</li>
<li>音乐曲名、作者、排行等元信息</li>
<li>愉悦度和唤醒度打分（取值区间[-5,5]）</li>
</ul>
<h2 id="特征提取"><a href="#特征提取" class="headerlink" title="特征提取"></a>特征提取</h2><p>使用<code>openSMILE</code>批量提取歌曲特征，得到<code>IS13features.arff</code>特征文件，包含了34首歌曲，每首6373维特征向量（使用<a href="/2017/05/02/IS13feature/" title="2013 ComParE Feature Set">2013 ComParE Feature Set</a>音乐情感特征集）。</p>
<h2 id="处理打分数据，得到情感标签"><a href="#处理打分数据，得到情感标签" class="headerlink" title="处理打分数据，得到情感标签"></a>处理打分数据，得到情感标签</h2><p>根据打分给每首歌打三个标签<code>情感正负</code>（即愉悦度的正负值），<code>情感强弱</code>（即唤醒度的正负值），<code>四种基本情感</code>（即VA二维平面的四个象限：高兴、惊恐、厌烦、轻松）。</p>
<p>将歌曲的特征向量和情感标签写入文件<code>IS13features_withlabels.arff</code>。</p>
<h2 id="简单过一下分类流程"><a href="#简单过一下分类流程" class="headerlink" title="简单过一下分类流程"></a>简单过一下分类流程</h2><p>使用<code>Weka</code>中的<code>libsvm</code>对音乐情感进行简单分类。（注意这里只是简单过一下分类流程，以后真实应用中是不会这样做的，如在VA模型的2维空间中做回归分析）  </p>
<p>10-fold交叉验证结果：  </p>
<ol>
<li><p>情感正负(V)  </p>
<img src="/2017/05/16/50M/V.png" alt="V.png" title="">
</li>
<li><p>情感强弱(A)  </p>
<img src="/2017/05/16/50M/A.png" alt="A.png" title="">
</li>
<li><p>四种基本情感(VA)  </p>
<img src="/2017/05/16/50M/VA.png" alt="VA.png" title="">
</li>
</ol>
<h2 id="发现问题和拟解决方案"><a href="#发现问题和拟解决方案" class="headerlink" title="发现问题和拟解决方案"></a>发现问题和拟解决方案</h2><ol>
<li>在音乐打分前没有规范音乐文件名（没有给每首音乐相应的ID），给音乐文件与打分数据的联结处理带来麻烦 –&gt; 可以使用批处理给音乐规范ID并将其原文件名中包含的信息（歌曲名字、作者）写到专门的<code>metadata</code>文件中。</li>
<li><code>metadata</code>文件中还应该包含歌曲的排名和风格等元素 –&gt; 这些需要爬虫支持（人工搜集还是不友好的。。）</li>
<li><code>ffmpeg</code>MP3转WAV的时候报Warning，发现这次使用的音乐裁剪工具没有修改MP3的文件信息，可能会对以后的应用埋下隐患。（感觉是暴力裁剪的，文件头里的duration字段，frame字段等和裁剪后的文件真实信息不匹配）–&gt; 换一个裁剪工具（可以试试也用ffmpeg）</li>
<li>受试者裁剪肯定是不行的 –&gt; 机器裁剪还是我们人工裁剪？</li>
</ol>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;实验目的&quot;&gt;&lt;a href=&quot;#实验目的&quot; class=&quot;headerlink&quot; title=&quot;实验目的&quot;&gt;&lt;/a&gt;实验目的&lt;/h2&gt;&lt;p&gt;为后续的大规模音乐数据集建立工作试水，希望能在这个过程中发现之前没有注意到的问题，并提出相应解决方案。&lt;/p&gt;
    
    </summary>
    
    
      <category term="MER" scheme="http://huisblog.cn/tags/MER/"/>
    
      <category term="dataset" scheme="http://huisblog.cn/tags/dataset/"/>
    
  </entry>
  
  <entry>
    <title>Music Information Retrieval</title>
    <link href="http://huisblog.cn/2017/05/09/mirlec/"/>
    <id>http://huisblog.cn/2017/05/09/mirlec/</id>
    <published>2017-05-09T15:03:18.000Z</published>
    <updated>2017-05-09T15:05:04.000Z</updated>
    
    <content type="html"><![CDATA[<p>台湾国立清华大学开设了一门<code>Music Information Retrieval</code>课程来介绍一些音乐信息检索的基础技术，主讲教师是在MIR领域有名的大牛<code>Yi-Hsuan Yang</code>和<code>Li Su</code>。虽然没有视频公开课，但是在其<a href="https://twtmir.wordpress.com/" target="_blank" rel="external">课程网站</a>上公开了授课PPT，值得对这方面感兴趣的同学翻看一下。</p>
<a id="more"></a>
<h2 id="Music-Essences"><a href="#Music-Essences" class="headerlink" title="Music Essences"></a>Music Essences</h2><ul>
<li>Pitch<br>Frequency</li>
<li>Loudness<br>Dynamic, Loudness, Intensity</li>
<li>Timbre<br>Energy features, Temporal features, Spectral features, harmonic feaures</li>
</ul>
<h2 id="Signal-Processing"><a href="#Signal-Processing" class="headerlink" title="Signal Processing"></a>Signal Processing</h2><ul>
<li>STFT</li>
</ul>
<h2 id="Tasks"><a href="#Tasks" class="headerlink" title="Tasks"></a>Tasks</h2><ul>
<li>Pitch Detection</li>
<li>Classification</li>
<li>Synchronization</li>
<li>Separation</li>
<li>Tagging/Recomment</li>
<li>Structure Analysis</li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;台湾国立清华大学开设了一门&lt;code&gt;Music Information Retrieval&lt;/code&gt;课程来介绍一些音乐信息检索的基础技术，主讲教师是在MIR领域有名的大牛&lt;code&gt;Yi-Hsuan Yang&lt;/code&gt;和&lt;code&gt;Li Su&lt;/code&gt;。虽然没有视频公开课，但是在其&lt;a href=&quot;https://twtmir.wordpress.com/&quot;&gt;课程网站&lt;/a&gt;上公开了授课PPT，值得对这方面感兴趣的同学翻看一下。&lt;/p&gt;
    
    </summary>
    
    
      <category term="MER" scheme="http://huisblog.cn/tags/MER/"/>
    
  </entry>
  
  <entry>
    <title>在博客中插入数学公式</title>
    <link href="http://huisblog.cn/2017/05/02/tex/"/>
    <id>http://huisblog.cn/2017/05/02/tex/</id>
    <published>2017-05-02T07:09:59.000Z</published>
    <updated>2017-06-03T09:02:10.000Z</updated>
    
    <content type="html"><![CDATA[<script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>

<p>Markdown本身并不支持数学公式的书写，使用<a href="https://www.mathjax.org/" target="_blank" rel="external">MathJax</a>来给我的博客插入公式只需要两步：  </p>
<ol>
<li>链接MathJax到要包含公式的网页中；  </li>
<li>将公式放入网页让MathJax可以展示它。</li>
</ol>
<p><a href="https://mathjax-chinese-doc.readthedocs.io/en/latest/start.html" target="_blank" rel="external">中文版入门指南</a><br><a id="more"></a></p>
<h2 id="到内容分发服务的安全链接"><a href="#到内容分发服务的安全链接" class="headerlink" title="到内容分发服务的安全链接"></a>到内容分发服务的安全链接</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&lt;script type=<span class="string">"text/javascript"</span> <span class="keyword">async</span></div><div class="line">  src=<span class="string">"https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"</span>&gt;</div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure>
<h2 id="插入公式"><a href="#插入公式" class="headerlink" title="插入公式"></a>插入公式</h2><p>行内公式使用<code>\\(...\\)</code>，两个<code>\</code>有一个是转义字符。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">这是一个行内公式\\(c = a+b\\)</div></pre></td></tr></table></figure>
<p>效果是：<br>这是一个行内公式\(c = a+b\)</p>
<p>行间公式使用<code>$$...$$</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">这是一个行间公式</div><div class="line">$$ E = mc^&#123;2&#125; $$</div></pre></td></tr></table></figure>
<p>这是一个行间公式<br>$$ E = mc^{2} $$</p>
<h2 id="Hexo与Mathjax的转义冲突"><a href="#Hexo与Mathjax的转义冲突" class="headerlink" title="Hexo与Mathjax的转义冲突"></a>Hexo与Mathjax的转义冲突</h2><p>按照以上两个步骤，按理来说应该就可以成功显示数学公式了。但是，有些时候会发现一些复杂的数学公式不能成功解析，原因是Hexo本身与Mathjax有一些特殊符号是互相冲突的：</p>
<ul>
<li><code>_</code>的转义，在markdown中，<code>_</code>代表斜体，但在LaTeX中却是下标的意思；</li>
<li><code>\\</code>在markdown中会被定义为<code>\</code>，但在LaTeX中却代表换行；</li>
<li><code>*</code>在markdown中也是粗斜体的表示符号，在LaTeX中也被使用。</li>
</ul>
<p><a href="https://segmentfault.com/a/1190000007261752" target="_blank" rel="external">Hexo下mathjax的转义问题</a>提到了一些解决办法：</p>
<ol>
<li>手动转义：最直接，但通用型差，在其他markdown引擎中会解析失败；</li>
<li>更换Hexo的markdown引擎：把Hexo默认的渲染markdown的引擎换掉，感觉有点过重了；</li>
<li>修改Hexo渲染源码：修改Hexo的渲染源码，不改变文章内容，可迁移。</li>
</ol>
<p>建议使用第3种办法，修改Hexo的渲染源码<code>nodes_modules/marked/lib/marked.js</code>:</p>
<p>S1. 去掉<code>\</code>的转义：<br>将文件中的</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">escape</span>: <span class="regexp">/^\\([\\`*&#123;&#125;\[\]()# +\-.!_&gt;])/</span>,</div></pre></td></tr></table></figure>
<p>修改为</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">escape</span>: <span class="regexp">/^\\([`*&#123;&#125;\[\]()# +\-.!_&gt;])/</span>,</div></pre></td></tr></table></figure>
<p>S2. 去掉特殊符号<code>_</code>：<br>找到斜体符号定义</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">em: <span class="regexp">/^\b_((?:[^_]|__)+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/</span>,</div></pre></td></tr></table></figure>
<p>去掉<code>_</code>的定义，修改为：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">em:<span class="regexp">/^\*((?:\*\*|[\s\S])+?)\*(?!\*)/</span>,</div></pre></td></tr></table></figure>
<p>修改完这两处后，LaTeX公式中的<code>_</code>和<code>\\</code>就不会解析错误啦。但值得注意的是<code>*</code>的问题没有被解决，不过<code>*</code>在LaTeX中使用并不多，markdown也同样需要一个表示粗斜体的符号，所以不在渲染文件中更改<code>*</code>的定义。这样就需要我们在写数学公式的时候注意<code>*</code>的使用了（例如，<code>\begin{align*}</code>应该改为<code>\begin{align}</code>）。</p>
]]></content>
    
    <summary type="html">
    
      &lt;script type=&quot;text/javascript&quot; async
  src=&quot;https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML&quot;&gt;
&lt;/script&gt;

&lt;p&gt;Markdown本身并不支持数学公式的书写，使用&lt;a href=&quot;https://www.mathjax.org/&quot;&gt;MathJax&lt;/a&gt;来给我的博客插入公式只需要两步：  &lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;链接MathJax到要包含公式的网页中；  &lt;/li&gt;
&lt;li&gt;将公式放入网页让MathJax可以展示它。&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;a href=&quot;https://mathjax-chinese-doc.readthedocs.io/en/latest/start.html&quot;&gt;中文版入门指南&lt;/a&gt;&lt;br&gt;
    
    </summary>
    
    
      <category term="tool" scheme="http://huisblog.cn/tags/tool/"/>
    
      <category term="Math" scheme="http://huisblog.cn/tags/Math/"/>
    
  </entry>
  
  <entry>
    <title>2013 ComParE Feature Set</title>
    <link href="http://huisblog.cn/2017/05/02/IS13feature/"/>
    <id>http://huisblog.cn/2017/05/02/IS13feature/</id>
    <published>2017-05-02T04:46:53.000Z</published>
    <updated>2017-05-02T06:07:10.000Z</updated>
    
    <content type="html"><![CDATA[<p>This blog will introduce a well-evolved feature set for automatic recognition of audio emotion, ie. 2013 ComParE Feature Set[1]. The ComParE feature set contains <code>6373</code> features. It consists of some <code>generic acoustic emotion descriptors</code> and their <code>statistical functionals</code>.</p>
<a id="more"></a>
<h2 id="65-Acoustic-low-level-descriptors-LLDs"><a href="#65-Acoustic-low-level-descriptors-LLDs" class="headerlink" title="65 Acoustic low-level descriptors(LLDs)"></a>65 Acoustic low-level descriptors(LLDs)</h2><p>The low-level descriptors cover a broad set of descriptors from the fields of <code>speech processing</code>, <code>Music Information Retrieval</code>, and <code>general sound analysis</code>. The set includes <code>energy</code>, <code>spectral</code>, and <code>voicing related low-level descriptors (LLDs)</code> including logarithmic harmonic-to-noise ratio (HNR), spectral harmonicity, and psychoacoustic spectral sharpness. Details are shown below.[2]</p>
<h3 id="4-ENERGY-RELATED-LLD"><a href="#4-ENERGY-RELATED-LLD" class="headerlink" title="4 ENERGY RELATED LLD"></a>4 ENERGY RELATED LLD</h3><ul>
<li>Sum of auditory spectrum (loudness)</li>
<li>Sum of RASTA-style filtered auditory spectrum </li>
<li>RMS energy </li>
<li>zero-crossing rate</li>
</ul>
<h3 id="55-SPECTRAL-LLD"><a href="#55-SPECTRAL-LLD" class="headerlink" title="55 SPECTRAL LLD"></a>55 SPECTRAL LLD</h3><ul>
<li>RASTA-style auditory spectrum, bands 1–26 (0–8 kHz) </li>
<li>MFCC 1–14</li>
<li>Spectral energy 250–650 Hz, 1 k–4 kHz</li>
<li>Spectral roll off point 0.25, 0.50, 0.75, 0.90</li>
<li>Spectral flux, centroid, entropy, slope </li>
<li>Psychoacoustic sharpness, harmonicity </li>
<li>Spectral variance, skewness, kurtosis</li>
</ul>
<h3 id="6-VOICING-RELATED-LLD"><a href="#6-VOICING-RELATED-LLD" class="headerlink" title="6 VOICING RELATED LLD"></a>6 VOICING RELATED LLD</h3><ul>
<li>F 0 (SHS and viterbi smoothing)</li>
<li>Prob. of voice</li>
<li>Log. HNR, Jitter (local, delta), Shimmer (local)</li>
</ul>
<h2 id="Statistical-functionals"><a href="#Statistical-functionals" class="headerlink" title="Statistical functionals"></a>Statistical functionals</h2><p>Statistical functionals include mean, moments, quartiles, 1- and 99-percentiles, as well as contour related measurements such as (relative) rise and fall times, amplitudes and standard deviations of local maxima (‘peaks’), and linear and quadratic regression coefficients.</p>
<h3 id="FUNCTIONALS-APPLIED-TO-LLD-deta-LLD"><a href="#FUNCTIONALS-APPLIED-TO-LLD-deta-LLD" class="headerlink" title="FUNCTIONALS APPLIED TO LLD/deta_LLD"></a>FUNCTIONALS APPLIED TO LLD/deta_LLD</h3><ul>
<li>Quartiles 1–3, 3 inter-quartile ranges</li>
<li>1% Percentile (~=min), 99% percentile (~=max) </li>
<li>Percentile range 1–99%</li>
<li>Position of min/max, range (max   min) </li>
<li>Arithmetic mean, root quadratic mean</li>
<li>Contour centroid, flatness</li>
<li>Standard deviation, skewness, kurtosis</li>
<li>Rel. duration LLD is above 25/50/75/90% range </li>
<li>Rel. duration LLD is rising</li>
<li>Rel. duration LLD has positive curvature</li>
<li>Gain of linear prediction (LP), LP coefficients 1–5 </li>
<li>Mean, max, min, SD of segment length</li>
</ul>
<h3 id="FUNCTIONALS-APPLIED-TO-LLD-ONLY"><a href="#FUNCTIONALS-APPLIED-TO-LLD-ONLY" class="headerlink" title="FUNCTIONALS APPLIED TO LLD ONLY"></a>FUNCTIONALS APPLIED TO LLD ONLY</h3><ul>
<li>Mean value of peaks</li>
<li>Mean value of peaks – arithmetic mean </li>
<li>Mean/SD of inter peak distances</li>
<li>Amplitude mean of peaks, of minima</li>
<li>Amplitude range of peaks</li>
<li>Mean/SD of rising/falling slopes</li>
<li>Linear regression slope, offset, quadratic error </li>
<li>Quadratic regression a, b, offset, quadratic error </li>
<li>Percentage of non-zero frames</li>
</ul>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><p>[1] Schuller B, Steidl S, Batliner A, et al. The INTERSPEECH 2013 computational paralinguistics challenge: social signals, conflict, emotion, autism[J]. 2013.<br>[2] Weninger F, Eyben F, Schuller B W, et al. On the acoustics of emotion in audio: what speech, music, and sound have in common[J]. 2013.</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;This blog will introduce a well-evolved feature set for automatic recognition of audio emotion, ie. 2013 ComParE Feature Set[1]. The ComParE feature set contains &lt;code&gt;6373&lt;/code&gt; features. It consists of some &lt;code&gt;generic acoustic emotion descriptors&lt;/code&gt; and their &lt;code&gt;statistical functionals&lt;/code&gt;.&lt;/p&gt;
    
    </summary>
    
    
      <category term="MER" scheme="http://huisblog.cn/tags/MER/"/>
    
      <category term="feature" scheme="http://huisblog.cn/tags/feature/"/>
    
  </entry>
  
  <entry>
    <title>MER 声学特征提取</title>
    <link href="http://huisblog.cn/2017/04/29/featureExt/"/>
    <id>http://huisblog.cn/2017/04/29/featureExt/</id>
    <published>2017-04-29T08:02:17.000Z</published>
    <updated>2017-05-18T09:46:43.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="特征集和提取工具"><a href="#特征集和提取工具" class="headerlink" title="特征集和提取工具"></a>特征集和提取工具</h2><p>最近的任务目标是：确定<code>音乐情感特征集（声学特征）</code>和<code>提取方法</code>  </p>
<a id="more"></a>
<p>为了确定要提取的音乐情感声学特征集<code>Acoustics Features Set for Music Emotion</code>，最近看了很多相关文章（<a href="/2017/04/27/MERFeature/" title="Features in MER">Features in MER</a>）。发现对于以前的音乐情感研究工作，研究人员多数使用<a href="http://marsyas.info/" target="_blank" rel="external">Marsyas</a>（最新版本为2015年发布）和<a href="https://cn.mathworks.com/matlabcentral/fileexchange/24583-mirtoolbox" target="_blank" rel="external">MIRtoolbox</a>（MATLAB工具包）。</p>
<p>然而近年来有一个专用于<code>情感计算</code>和<code>音乐信息检索</code>的特征提取工具<code>openSMILE</code>异军突起，这是由TUM（德国慕尼黑工业大学）开发的开源工具，近年来多个Challenge（ISComparE, MediaEval, Emobase等）频繁使用其作为<code>Baseline feature dataset</code>的提取工具，<code>openSMILE</code>针对这几个挑战也在其发布的版本中包含了相应的<code>config</code>文件。（<a href="/2017/04/27/openSMILE/" title="openSMILE安装指南">openSMILE安装指南</a>）</p>
<p>最终，我决定使用<code>the 2013 Computational Paralinguistics Evaluation (ComParE)</code>[1] 提出的基线数据集<a href="/2017/05/02/IS13feature/" title="2013 ComParE Feature Set">2013 ComParE Feature Set</a>（它同样在<code>MediaEval 2014</code>中被作为基线数据集[2]）。它在[3] 中表现出了评估speech, music, 以及 acoustic events的多维度情感鲁棒性。</p>
<p>同时，我决定使用<code>openSMILE</code>作为特征提取工具。</p>
<h2 id="提取流程"><a href="#提取流程" class="headerlink" title="提取流程"></a>提取流程</h2><p>拟下载的音乐文件为<code>MP3</code>格式，而<code>openSMILE</code>只支持<code>WAV</code>，所以首先需要用<code>ffmpeg</code>转换格式：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sh transformat.sh</div></pre></td></tr></table></figure>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#!/bin/sh</span></div><div class="line"><span class="comment">#transformat.sh</span></div><div class="line"><span class="comment">#transform MP3 to WAV</span></div><div class="line"></div><div class="line"><span class="built_in">echo</span> <span class="string">"Please Enter the MusicPath -&gt; "</span></div><div class="line"><span class="built_in">read</span> mpath</div><div class="line"><span class="built_in">cd</span> <span class="variable">$&#123;mpath&#125;</span></div><div class="line">mkdir <span class="string">'wav'</span></div><div class="line"></div><div class="line"><span class="keyword">for</span> m <span class="keyword">in</span> *.mp3</div><div class="line"><span class="keyword">do</span></div><div class="line">ffmpeg -i <span class="string">"<span class="variable">$&#123;m&#125;</span>"</span> <span class="string">"wav/<span class="variable">$&#123;m%.mp3&#125;</span>.wav"</span></div><div class="line"><span class="keyword">done</span></div></pre></td></tr></table></figure>
<p>然后使用<code>openSMILE</code>批量提取音乐特征：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sh smileEX.sh</div></pre></td></tr></table></figure>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#!/bin/sh</span></div><div class="line"><span class="comment">#smileEX.sh</span></div><div class="line"><span class="comment">#Extract features in batch by using openSMILE</span></div><div class="line"></div><div class="line"><span class="built_in">echo</span> <span class="string">"Please Enter the openSMILE Path -&gt; "</span></div><div class="line"><span class="built_in">read</span> opensmile</div><div class="line"><span class="built_in">echo</span> <span class="string">"Please Enter the Music Path -&gt; "</span></div><div class="line"><span class="built_in">read</span> mpath</div><div class="line"><span class="built_in">cd</span> <span class="variable">$&#123;mpath&#125;</span></div><div class="line"></div><div class="line"><span class="keyword">for</span> m <span class="keyword">in</span> *.wav</div><div class="line"><span class="keyword">do</span></div><div class="line"><span class="variable">$&#123;opensmile&#125;</span>/SMILExtract -C <span class="string">"<span class="variable">$&#123;opensmile&#125;</span>/config/IS13_ComParE.conf"</span>  -I <span class="string">"<span class="variable">$&#123;m&#125;</span>"</span>  -O  IS13features.arff  -instname <span class="string">"<span class="variable">$&#123;m%.wav&#125;</span>"</span></div><div class="line"><span class="keyword">done</span></div></pre></td></tr></table></figure>
<p>从QQ音乐和网易云音乐下载的测试音乐特征提取成功。</p>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><p>[1] Schuller B, Steidl S, Batliner A, et al. The INTERSPEECH 2013 computational paralinguistics challenge: social signals, conflict, emotion, autism[J]. 2013.<br>[2] Aljanaki A, Yang Y H, Soleymani M. Developing a benchmark for emotional analysis of music[J]. PloS one, 2017, 12(3): e0173392.<br>[3] Weninger F, Eyben F, Schuller B W, et al. On the acoustics of emotion in audio: what speech, music, and sound have in common[J]. 2013.</p>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;特征集和提取工具&quot;&gt;&lt;a href=&quot;#特征集和提取工具&quot; class=&quot;headerlink&quot; title=&quot;特征集和提取工具&quot;&gt;&lt;/a&gt;特征集和提取工具&lt;/h2&gt;&lt;p&gt;最近的任务目标是：确定&lt;code&gt;音乐情感特征集（声学特征）&lt;/code&gt;和&lt;code&gt;提取方法&lt;/code&gt;  &lt;/p&gt;
    
    </summary>
    
    
      <category term="MER" scheme="http://huisblog.cn/tags/MER/"/>
    
      <category term="feature" scheme="http://huisblog.cn/tags/feature/"/>
    
      <category term="tool" scheme="http://huisblog.cn/tags/tool/"/>
    
  </entry>
  
  <entry>
    <title>多组SSH-Key公钥/私钥的配置</title>
    <link href="http://huisblog.cn/2017/04/29/Multissh/"/>
    <id>http://huisblog.cn/2017/04/29/Multissh/</id>
    <published>2017-04-29T02:47:56.000Z</published>
    <updated>2017-05-02T06:11:24.000Z</updated>
    
    <content type="html"><![CDATA[<p>由于在同时使用<code>Github</code>和<code>Git@OSchina</code>（Github私有库需要收费且Git@OSchina在国内的访问速度较快），所以需要设置两组SSH-Key。</p>
<a id="more"></a>
<h2 id="本地生成公私钥"><a href="#本地生成公私钥" class="headerlink" title="本地生成公私钥"></a>本地生成公私钥</h2><p>Step1. 本地生成ssh keys命令：<code>ssh-keygen -t rsa -C &quot;注册邮箱&quot;</code>，生成的公私秘钥会提示是否需要重命名，键入自定义名称（防止再次生成的秘钥覆盖之前的），可跳过密码设置。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 生成github ssh keys</span></div><div class="line">$ ssh-keygen -t rsa -C <span class="string">"githubEmail"</span></div><div class="line">Generating public/private rsa key <span class="keyword">in</span> pair...</div><div class="line">Enter file <span class="keyword">in</span> <span class="built_in">which</span> to save the key (<span class="string">"默认位置"</span>): ~/.ssh/github_rsa </div><div class="line">Enter passphrase ...</div><div class="line">...</div><div class="line"></div><div class="line"><span class="comment"># 生成git@oschina ssh keys</span></div><div class="line">$ ssh-keygen -t rsa -C <span class="string">"git@oschinaEmail"</span></div><div class="line">Generating public/private rsa key <span class="keyword">in</span> pair...</div><div class="line">Enter file <span class="keyword">in</span> <span class="built_in">which</span> to save the key (<span class="string">"默认位置"</span>): ~/.ssh/oschina_rsa </div><div class="line">Enter passphrase ...</div><div class="line">...</div></pre></td></tr></table></figure>
<p>Step2. 配置<code>config</code>将两组秘钥对应到相应的远程仓库。在.ssh/目录下新建<code>config</code>文件，其中<code>Host</code>是一个别名，命名可以随意，用来进行远程连接，当然使用真实的主机名称也是可以的。<code>HostName</code>和<code>IdentityFile</code>是各自主机名称以及对应的秘钥文件。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#github configuration</span></div><div class="line">Host github.com</div><div class="line">	HostName github.com</div><div class="line">	IdentityFile ~/.ssh/github_rsa</div><div class="line">	User githubEmail</div><div class="line"></div><div class="line"><span class="comment">#gitoschina configuration</span></div><div class="line">Host git.oschina.net</div><div class="line">	HostName git.oschina.net</div><div class="line">	IdentityFile ~/.ssh/oschina_rsa</div><div class="line">	User git@oschinaEmail</div></pre></td></tr></table></figure>
<h2 id="将公钥添加到账户"><a href="#将公钥添加到账户" class="headerlink" title="将公钥添加到账户"></a>将公钥添加到账户</h2><p>分别将生成的公钥添加到相应的Git账户</p>
<h2 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h2><p>测试Git连接，提示是否建立连接：yes。成功后会提示<code>Welcome...</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ ssh -T git@github.com</div><div class="line">$ ssh -T git@git.oschina.net</div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;由于在同时使用&lt;code&gt;Github&lt;/code&gt;和&lt;code&gt;Git@OSchina&lt;/code&gt;（Github私有库需要收费且Git@OSchina在国内的访问速度较快），所以需要设置两组SSH-Key。&lt;/p&gt;
    
    </summary>
    
    
      <category term="ssh" scheme="http://huisblog.cn/tags/ssh/"/>
    
      <category term="github" scheme="http://huisblog.cn/tags/github/"/>
    
  </entry>
  
  <entry>
    <title>Probably Graphic Model</title>
    <link href="http://huisblog.cn/2017/04/27/ApplicationMath/pgm/"/>
    <id>http://huisblog.cn/2017/04/27/ApplicationMath/pgm/</id>
    <published>2017-04-27T06:40:06.000Z</published>
    <updated>2017-04-27T06:53:52.000Z</updated>
    
    <content type="html"><![CDATA[<p>简而言之，数形结合的思想。</p>
<h2 id="贝叶斯网络"><a href="#贝叶斯网络" class="headerlink" title="贝叶斯网络"></a>贝叶斯网络</h2><p>即有向图模型<br><img src="/2017/04/27/ApplicationMath/pgm/bayes.png" alt="bayes.png" title=""></p>
<h2 id="马尔可夫随机场"><a href="#马尔可夫随机场" class="headerlink" title="马尔可夫随机场"></a>马尔可夫随机场</h2><p>即无向图模型<br><img src="/2017/04/27/ApplicationMath/pgm/makov.png" alt="makov.png" title=""></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;简而言之，数形结合的思想。&lt;/p&gt;
&lt;h2 id=&quot;贝叶斯网络&quot;&gt;&lt;a href=&quot;#贝叶斯网络&quot; class=&quot;headerlink&quot; title=&quot;贝叶斯网络&quot;&gt;&lt;/a&gt;贝叶斯网络&lt;/h2&gt;&lt;p&gt;即有向图模型&lt;br&gt;&lt;img src=&quot;/2017/04/27/Appli
    
    </summary>
    
      <category term="应用工程数学" scheme="http://huisblog.cn/categories/%E5%BA%94%E7%94%A8%E5%B7%A5%E7%A8%8B%E6%95%B0%E5%AD%A6/"/>
    
    
      <category term="Math" scheme="http://huisblog.cn/tags/Math/"/>
    
  </entry>
  
  <entry>
    <title>Markov Chains &amp; HMM</title>
    <link href="http://huisblog.cn/2017/04/27/ApplicationMath/mc/"/>
    <id>http://huisblog.cn/2017/04/27/ApplicationMath/mc/</id>
    <published>2017-04-27T06:40:05.000Z</published>
    <updated>2017-04-27T06:48:45.000Z</updated>
    
    <content type="html"><![CDATA[<p>会其意，知其形。</p>
<h2 id="Markov-Chain"><a href="#Markov-Chain" class="headerlink" title="Markov Chain"></a>Markov Chain</h2><p>服从马尔可夫性（无记忆性）：当前状态只与前一个状态有关，与更往前的状态无关。</p>
<h2 id="HMM-Hiden-Markov-Model"><a href="#HMM-Hiden-Markov-Model" class="headerlink" title="HMM(Hiden Markov Model)"></a>HMM(Hiden Markov Model)</h2><p>一个概率模型，用于描述系统隐性状态的转移和隐性状态的表现（输出）概率。</p>
<ul>
<li>可见状态链</li>
<li>隐含状态链    <img src="/2017/04/27/ApplicationMath/mc/chains.jpg" alt="chains.jpg" title=""></li>
<li>隐含状态数量  </li>
<li>隐含状态之间的转换概率(transition probability)    <img src="/2017/04/27/ApplicationMath/mc/transition.jpg" alt="transition.jpg" title=""></li>
<li>隐含状态到可见状态的输出概率(emission probability)    <img src="/2017/04/27/ApplicationMath/mc/emission.jpg" alt="emission.jpg" title="">  
</li>
</ul>
<h3 id="HMM能做什么，怎么做？"><a href="#HMM能做什么，怎么做？" class="headerlink" title="HMM能做什么，怎么做？"></a>HMM能做什么，怎么做？</h3><ol>
<li>估计(evaluation)<br> 转换概率+输出概率 -&gt; 可见状态出现的概率 （动态规划、forward algorithm）</li>
<li>解码(decoding)<br> 转换概率+输出概率+可见状态链 -&gt; 隐含状态链 （极大似然、Viterbi algorithm）      </li>
<li>学习(learning)<br> a. 有可见状态链和隐含状态链-&gt;HMM模型<br> b. 只有可见状态链-&gt;HMM模型</li>
</ol>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;会其意，知其形。&lt;/p&gt;
&lt;h2 id=&quot;Markov-Chain&quot;&gt;&lt;a href=&quot;#Markov-Chain&quot; class=&quot;headerlink&quot; title=&quot;Markov Chain&quot;&gt;&lt;/a&gt;Markov Chain&lt;/h2&gt;&lt;p&gt;服从马尔可夫性（无记忆性）：
    
    </summary>
    
      <category term="应用工程数学" scheme="http://huisblog.cn/categories/%E5%BA%94%E7%94%A8%E5%B7%A5%E7%A8%8B%E6%95%B0%E5%AD%A6/"/>
    
    
      <category term="Math" scheme="http://huisblog.cn/tags/Math/"/>
    
  </entry>
  
  <entry>
    <title>PCA主成分分析</title>
    <link href="http://huisblog.cn/2017/04/27/ApplicationMath/pca/"/>
    <id>http://huisblog.cn/2017/04/27/ApplicationMath/pca/</id>
    <published>2017-04-27T06:40:03.000Z</published>
    <updated>2017-04-27T06:46:36.000Z</updated>
    
    <content type="html"><![CDATA[<ol>
<li>零均值化：每个属性值减去其均值</li>
<li>求协方差矩阵</li>
<li>求协方差矩阵的特征值和特征向量</li>
<li>保留主成分</li>
</ol>
]]></content>
    
    <summary type="html">
    
      &lt;ol&gt;
&lt;li&gt;零均值化：每个属性值减去其均值&lt;/li&gt;
&lt;li&gt;求协方差矩阵&lt;/li&gt;
&lt;li&gt;求协方差矩阵的特征值和特征向量&lt;/li&gt;
&lt;li&gt;保留主成分&lt;/li&gt;
&lt;/ol&gt;

    
    </summary>
    
      <category term="应用工程数学" scheme="http://huisblog.cn/categories/%E5%BA%94%E7%94%A8%E5%B7%A5%E7%A8%8B%E6%95%B0%E5%AD%A6/"/>
    
    
      <category term="Math" scheme="http://huisblog.cn/tags/Math/"/>
    
  </entry>
  
  <entry>
    <title>Point Esimation 点估计</title>
    <link href="http://huisblog.cn/2017/04/27/ApplicationMath/pe/"/>
    <id>http://huisblog.cn/2017/04/27/ApplicationMath/pe/</id>
    <published>2017-04-27T06:40:02.000Z</published>
    <updated>2017-04-30T02:04:04.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Hoeffding不等式"><a href="#Hoeffding不等式" class="headerlink" title="Hoeffding不等式"></a>Hoeffding不等式</h2><p>用于确认精确度，适用于所有有界的随机变量。假设有两两独立的变量X1…Xn，其中Xi都是<code>几乎</code>有界的变量，即满足  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">P(ai&lt;=Xi&lt;=bi) = 1</div></pre></td></tr></table></figure>
<p>则其期望满足：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">P(|mean(X)-E(mean(X))|&gt;=t) &lt;= 2exp(-2(nt)^2/sum((bi - ai)^2))</div></pre></td></tr></table></figure>
<h2 id="Regression回归分析"><a href="#Regression回归分析" class="headerlink" title="Regression回归分析"></a>Regression回归分析</h2><p>Bias-Variance Tradeoff</p>
<ul>
<li>欠拟合 underfitting 高偏差 bias</li>
<li>过拟合 overfitting 高方差 variance</li>
</ul>
<p>解决方法：1、减少选取的特征数量；2、正则化 regularization</p>
<h2 id="Polynomial-Curve-Fitting"><a href="#Polynomial-Curve-Fitting" class="headerlink" title="Polynomial Curve Fitting"></a>Polynomial Curve Fitting</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">Y = XA </div><div class="line">#使用法向量计算最小二乘法结果</div><div class="line">A = (X.T * X) * X.T * Y</div></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;Hoeffding不等式&quot;&gt;&lt;a href=&quot;#Hoeffding不等式&quot; class=&quot;headerlink&quot; title=&quot;Hoeffding不等式&quot;&gt;&lt;/a&gt;Hoeffding不等式&lt;/h2&gt;&lt;p&gt;用于确认精确度，适用于所有有界的随机变量。假设有两两独立的变
    
    </summary>
    
      <category term="应用工程数学" scheme="http://huisblog.cn/categories/%E5%BA%94%E7%94%A8%E5%B7%A5%E7%A8%8B%E6%95%B0%E5%AD%A6/"/>
    
    
      <category term="Math" scheme="http://huisblog.cn/tags/Math/"/>
    
  </entry>
  
  <entry>
    <title>聚类</title>
    <link href="http://huisblog.cn/2017/04/27/ApplicationMath/cluster/"/>
    <id>http://huisblog.cn/2017/04/27/ApplicationMath/cluster/</id>
    <published>2017-04-27T06:40:01.000Z</published>
    <updated>2017-04-27T06:51:16.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="相似性衡量"><a href="#相似性衡量" class="headerlink" title="相似性衡量"></a>相似性衡量</h2><ul>
<li>距离</li>
<li>相似性</li>
<li>核函数</li>
<li>DTW（dynamic time warping 一种特殊的距离算法）</li>
</ul>
<h2 id="聚类算法"><a href="#聚类算法" class="headerlink" title="聚类算法"></a>聚类算法</h2><ul>
<li><p>划分聚类(Partition-based methods)<br>确认聚类数量，挑选初始点 -&gt; 类内的点足够近，类间的点足够远。</p>
</li>
<li><p>密度聚类(Density-based methods)<br>指定圈的最大半径，包含的最少点数量 -&gt; 画圈。</p>
</li>
<li><p>模型聚类(Model-based methods)<br>基于概率模型和神经网络模型 -&gt; 同一类属于同一概率分布</p>
</li>
<li><p>层次聚类(Hierarchical methods)<br>自下而上法 (bottom-up) 和自上而下法 (top-down)，根据linkage迭代联合或者排异。</p>
</li>
<li><p>网格聚类(Grid-based methods)<br>将数据空间划分为网格单元，将数据对象集映射到网格单元中。计算每个单元的密度，根据阈值确定高密度单元 -&gt; 相近的高密度单元组成类</p>
</li>
</ul>
<a id="more"></a>
<h3 id="常用聚类算法"><a href="#常用聚类算法" class="headerlink" title="常用聚类算法"></a>常用聚类算法</h3><p><a href="http://scikit-learn.org/stable/modules/clustering.html#clustering" target="_blank" rel="external">Overview of clustering methods</a>  </p>
<ul>
<li><p>k-means</p>
<img src="/2017/04/27/ApplicationMath/cluster/kmeans01.png" alt="kmeans01.png" title="">
<img src="/2017/04/27/ApplicationMath/cluster/kmeans02.png" alt="kmeans02.png" title="">
</li>
<li><p>GMM</p>
<img src="/2017/04/27/ApplicationMath/cluster/gmm01.png" alt="gmm01.png" title="">
<img src="/2017/04/27/ApplicationMath/cluster/gmm02.png" alt="gmm02.png" title="">
</li>
</ul>
<h2 id="数据简化"><a href="#数据简化" class="headerlink" title="数据简化"></a>数据简化</h2><ul>
<li>变化</li>
<li>降维</li>
<li>抽样</li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;相似性衡量&quot;&gt;&lt;a href=&quot;#相似性衡量&quot; class=&quot;headerlink&quot; title=&quot;相似性衡量&quot;&gt;&lt;/a&gt;相似性衡量&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;距离&lt;/li&gt;
&lt;li&gt;相似性&lt;/li&gt;
&lt;li&gt;核函数&lt;/li&gt;
&lt;li&gt;DTW（dynamic time warping 一种特殊的距离算法）&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;聚类算法&quot;&gt;&lt;a href=&quot;#聚类算法&quot; class=&quot;headerlink&quot; title=&quot;聚类算法&quot;&gt;&lt;/a&gt;聚类算法&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;p&gt;划分聚类(Partition-based methods)&lt;br&gt;确认聚类数量，挑选初始点 -&amp;gt; 类内的点足够近，类间的点足够远。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;密度聚类(Density-based methods)&lt;br&gt;指定圈的最大半径，包含的最少点数量 -&amp;gt; 画圈。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;模型聚类(Model-based methods)&lt;br&gt;基于概率模型和神经网络模型 -&amp;gt; 同一类属于同一概率分布&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;层次聚类(Hierarchical methods)&lt;br&gt;自下而上法 (bottom-up) 和自上而下法 (top-down)，根据linkage迭代联合或者排异。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;网格聚类(Grid-based methods)&lt;br&gt;将数据空间划分为网格单元，将数据对象集映射到网格单元中。计算每个单元的密度，根据阈值确定高密度单元 -&amp;gt; 相近的高密度单元组成类&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
    
    </summary>
    
      <category term="应用工程数学" scheme="http://huisblog.cn/categories/%E5%BA%94%E7%94%A8%E5%B7%A5%E7%A8%8B%E6%95%B0%E5%AD%A6/"/>
    
    
      <category term="Math" scheme="http://huisblog.cn/tags/Math/"/>
    
  </entry>
  
  <entry>
    <title>音乐情感识别简介</title>
    <link href="http://huisblog.cn/2017/04/27/MERintro/"/>
    <id>http://huisblog.cn/2017/04/27/MERintro/</id>
    <published>2017-04-27T06:30:54.000Z</published>
    <updated>2017-04-27T06:54:32.000Z</updated>
    
    <content type="html"><![CDATA[<ul>
<li><p>音乐情感识别的重要性：<br>1、用于音乐检索；2、方便用户组织结构；3、增强人机交互。</p>
</li>
<li><p>音乐情感识别的基础框架：  </p>
<img src="/2017/04/27/MERintro/merc1-1.png" alt="音乐情感识别概略图" title="音乐情感识别概略图">
</li>
</ul>
<a id="more"></a>
<ul>
<li><p>音乐情感识别的四个问题：  </p>
<ol>
<li>情感描述的歧义和粒度（不同情感术语之间的模糊边界，少的情感类别不足以描述丰富的情感而多的会增加难度降低准确率）；  </li>
<li>情感注释的认知负载；  </li>
<li>情绪感知的主观性；  </li>
<li>低层特征和高层感知之间的语义鸿沟。  <img src="/2017/04/27/MERintro/merc1-2.png" alt="四个问题" title="四个问题">
</li>
</ol>
</li>
<li><p>《Music Emotion Recognizition》概览  </p>
<img src="/2017/04/27/MERintro/merc1-3.png" alt="本书概览" title="本书概览">
</li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;ul&gt;
&lt;li&gt;&lt;p&gt;音乐情感识别的重要性：&lt;br&gt;1、用于音乐检索；2、方便用户组织结构；3、增强人机交互。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;音乐情感识别的基础框架：  &lt;/p&gt;
&lt;img src=&quot;/2017/04/27/MERintro/merc1-1.png&quot; alt=&quot;音乐情感识别概略图&quot; title=&quot;音乐情感识别概略图&quot;&gt;
&lt;/li&gt;
&lt;/ul&gt;
    
    </summary>
    
    
      <category term="MER" scheme="http://huisblog.cn/tags/MER/"/>
    
  </entry>
  
  <entry>
    <title>openSMILE</title>
    <link href="http://huisblog.cn/2017/04/27/openSMILE/"/>
    <id>http://huisblog.cn/2017/04/27/openSMILE/</id>
    <published>2017-04-27T06:28:08.000Z</published>
    <updated>2017-04-27T06:29:47.000Z</updated>
    
    <content type="html"><![CDATA[<p>S1. 下载最新的稳定版本<a href="http://audeering.com/technology/opensmile/#download" target="_blank" rel="external">openSMILE</a></p>
<p>S2. 下载依赖工具库  </p>
<ul>
<li>autotools(automake, autoconf, libtool, and m4)  </li>
<li>make</li>
<li>GNU C and C++ compiler gcc and g++</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">$ brew install automake</div><div class="line">$ brew install autoconf</div><div class="line">$ brew install libtool</div><div class="line">$ brew install m4</div><div class="line">$ brew install gcc</div></pre></td></tr></table></figure>
<p>S3. 解压并安装</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ tar-zxvf opensmile-X.X.X.tar.gz</div><div class="line">$ cd opensmile-X.X.X</div><div class="line">$ sh buildStandalone.sh</div></pre></td></tr></table></figure>
<p>S4. 测试安装是否成功  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ SMILExtract -h</div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;S1. 下载最新的稳定版本&lt;a href=&quot;http://audeering.com/technology/opensmile/#download&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;openSMILE&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;S2. 下载依赖工具
    
    </summary>
    
    
      <category term="MER" scheme="http://huisblog.cn/tags/MER/"/>
    
      <category term="feature" scheme="http://huisblog.cn/tags/feature/"/>
    
      <category term="tool" scheme="http://huisblog.cn/tags/tool/"/>
    
  </entry>
  
  <entry>
    <title>Features in MER</title>
    <link href="http://huisblog.cn/2017/04/27/MERFeature/"/>
    <id>http://huisblog.cn/2017/04/27/MERFeature/</id>
    <published>2017-04-27T06:18:24.000Z</published>
    <updated>2017-04-27T06:27:21.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Analysis-Content"><a href="#Analysis-Content" class="headerlink" title="Analysis Content"></a>Analysis Content</h2><ul>
<li>Text-Content   (Web-Documents, Social-Tags, Lyrics)  </li>
<li>Audio-Content  （Acoustic Features）</li>
</ul>
<a id="more"></a>
<h2 id="Audio-Content"><a href="#Audio-Content" class="headerlink" title="Audio-Content"></a>Audio-Content</h2><p>P1. Measurement and time series analysis of emotion in music(Schubert1999 <em>Cited: 118’</em>)<br>A very old book introducing measurement and time series analysis of emotion in music.</p>
<table>
<thead>
<tr>
<th>Types</th>
<th>Features</th>
</tr>
</thead>
<tbody>
<tr>
<td>Loudnedss related</td>
<td>Dynamics</td>
</tr>
<tr>
<td>Pitch related</td>
<td>Mean pitch, Pitch range, Variation in pitch, Melodic contour, Register, Mode, Timbre, Harmony</td>
</tr>
<tr>
<td>Duration related</td>
<td>Tempo, Articulation, Note onset, Vibrato, Rhythm, Metre</td>
</tr>
</tbody>
</table>
<p>P2. Automatic mood detection from acoustic music data(ISMIR2003 <em>Cited: 233’</em>)<br>“It was indicated that mode, intensity, timbre and rhythm are of great significance in arousing different music moods. However, mode is very difficult to obtain from acoustic data (Hinn, 1996). Therefore, only the rest three features are extracted and used in our mood detection system.”</p>
<table>
<thead>
<tr>
<th>Types</th>
<th>Features</th>
</tr>
</thead>
<tbody>
<tr>
<td>Intensity</td>
<td>Root mean-square (RMS) level in decibels</td>
</tr>
<tr>
<td>Rhythm</td>
<td>Average strength, Average correlation peak, Average tempo</td>
</tr>
<tr>
<td>Timbre</td>
<td>Spectral Shape Features: Centroid, Bandwidth, Roll off, Spectral Flux; Spectral Contrast Features: Sub-band Peak, Sub-band Valley, Sub-band Average</td>
</tr>
</tbody>
</table>
<p>P3. Disambiguating Music Emotion Using Software Agents(ISMIR2004 <em>Cited: 118’</em>)<br>This paper confirmed the results of P2 which found that emotional intensity was highly correlated with rhythm and timbre features.</p>
<table>
<thead>
<tr>
<th>Types</th>
<th>Features</th>
</tr>
</thead>
<tbody>
<tr>
<td>Tempo</td>
<td>Beats per Minute (BPM)</td>
</tr>
<tr>
<td>LLD</td>
<td>Low-level standard descriptors from the MPEG-7 audio standard (12 attributes)</td>
</tr>
<tr>
<td>Timbre</td>
<td>Spectral centroid, Spectral rolloff, Spectral flux, Spectral kurtosis</td>
</tr>
<tr>
<td>Intensity</td>
<td>Labels of intensity from 0 to 9 were applied to instances by a human listener</td>
</tr>
<tr>
<td>Another 12 attributes</td>
<td>Generated by a genetic algorithm using the Sony Extractor Discovery System (EDS)</td>
</tr>
</tbody>
</table>
<p>Tools recommended：Wavelet tools, MPEG-7 Low Level Descriptors, Sony Extractor Discovery System (EDS)  </p>
<p>P4. Modeling emotional content of music using system identification(TSMC2005 <em>Cited: 104’</em>)</p>
<table>
<thead>
<tr>
<th>Types</th>
<th>Features</th>
</tr>
</thead>
<tbody>
<tr>
<td>Dynamiscs</td>
<td>Loudness level, Short term max.loudness</td>
</tr>
<tr>
<td>Mean Pitch</td>
<td>Power spectrum centroid, Mean STFT centroid</td>
</tr>
<tr>
<td>Pitch Variation</td>
<td>Mean STFT Flux, Std dev. STFT flux, Std dev. STFT centroid</td>
</tr>
<tr>
<td>Timbre</td>
<td>Timbral Width, Mean STFT rolloff, Std. dev. STFT rolloff, Sharpness(Zwicker and Fastl)</td>
</tr>
<tr>
<td>Harmony</td>
<td>Spectral dissonance(Hutchinson and Knopoff), Spectral dissonance(Sethares), Tonal dissonance(Hutchinson and Knopoff), Tonal dissonance(Sethares), Complex tonalness</td>
</tr>
<tr>
<td>Tempo</td>
<td>Beats Per Minute</td>
</tr>
<tr>
<td>Texture</td>
<td>Multiplicity</td>
</tr>
</tbody>
</table>
<p>Tools recommended：PsySound, Marsyas</p>
<p>P5. Music Emotion Classification: A Fuzzy Approach(ACM MM2006 <em>Cited: 142’</em>)<br>This paper used PsySound2 to extract music features and choose 15 features as recommended in P1. “begins with all 15 features and then greedily removes the worst feature sequentially until no more accuracy improvement can be obtained.” Same as <a href="./papers/popmusic.22.pdf">Detecting and Classifying Emotion in Popular Music</a>(JCIS2006 <em>Cited: 22’</em>)</p>
<table>
<thead>
<tr>
<th>Types</th>
<th>Features</th>
</tr>
</thead>
<tbody>
<tr>
<td>Loudnedss related</td>
<td>Dynamics</td>
</tr>
<tr>
<td>Pitch related</td>
<td>Mean pitch, Pitch range, Variation in pitch, Melodic contour, Register, Mode, Timbre, Harmony</td>
</tr>
<tr>
<td>Duration related</td>
<td>Tempo, Articulation, Note onset, Vibrato, Rhythm, Metre</td>
</tr>
</tbody>
</table>
<p>Tools recommended：PsySound2</p>
<p>P6. Multi-Label Classification of Music into Emotions(ISMIR2008 <em>Cited: 529’</em>)  </p>
<table>
<thead>
<tr>
<th>Types</th>
<th>Features</th>
</tr>
</thead>
<tbody>
<tr>
<td>Rhythm</td>
<td>The two highest peaks and computing their amplitudes, their BMPs (beats per minute) and the high-to-low ratio of their BPMs; Summing the histogram bins between 40-90, 90-140 and 140- 250 BPMs respectively. -&gt; 8</td>
</tr>
<tr>
<td>Timbre</td>
<td>the first 13 MFCCs, spectral centroid, spectral rolloff and spectral flux for per frame -&gt; 16 -&gt; The mean, std, mean std and std std over all frames -&gt; 64</td>
</tr>
</tbody>
</table>
<p>Tools recommended：Marsyas tool</p>
<p>P7. A regression approach to music emotion recognition(TASLP2008 <em>Cited: 319’</em>)<br>“extract musical features and construct a 114-dimension feature space”</p>
<table>
<thead>
<tr>
<th>Types</th>
<th>Features</th>
</tr>
</thead>
<tbody>
<tr>
<td>PsySound</td>
<td>Loudness, Level, Dissonance, Pitch -&gt; 44</td>
</tr>
<tr>
<td>Marsyas</td>
<td>Spectral centroid, Spectral rolloff, Spectral flux, Time domain zero-crossing and Mel-frequency cep- stral coefficient (MFCC) -&gt; 19, 6 rhythmic content features (by beat and tempo detection), 5 pitch content features (by multi- pitch detection) -&gt; 30</td>
</tr>
<tr>
<td>Spectral contrast</td>
<td>Capture the relative spectral information in each subband and utilize the spectral peak, spectral valley, and their dynamics as features -&gt; 12</td>
</tr>
<tr>
<td>DWCH</td>
<td>histograms of Daubechies wavelet co- efficients at different frequency subbands with different resolutions -&gt; 28</td>
</tr>
</tbody>
</table>
<p>Tools recommended：PsySound, Marsyas, Matlab</p>
<p>P8. Music emotion recognition: A state of the art review(ISMIR2010 <em>Cited: 268’</em>)<br>“An overview of the most common acoustic features used for mood recognition”  </p>
<table>
<thead>
<tr>
<th>Types</th>
<th>Features</th>
</tr>
</thead>
<tbody>
<tr>
<td>Dynamics</td>
<td>RMS-Energy</td>
</tr>
<tr>
<td>Timbre</td>
<td>MFCCs, Spectral-Shape, Spectral-Contrast</td>
</tr>
<tr>
<td>Harmony</td>
<td>Roughness, Harmonic-Change, Key-Clarity, Majorness</td>
</tr>
<tr>
<td>Register</td>
<td>Chromagram, Chroma-Centroid and Deviation</td>
</tr>
<tr>
<td>Rhythm</td>
<td>Rhythm-Strength, Regularity, Tempo, Beat-Histograms</td>
</tr>
<tr>
<td>Articulation</td>
<td>Event-Density, Attack-Slope, Attack-Time</td>
</tr>
</tbody>
</table>
<p>Tools recommended：MIRtoolbox  </p>
<p>P9. Machine recognition of music emotion: A review(TIST2012 <em>Cited: 139’</em>)<br>“briefly review some features that have been utilized in MER”</p>
<table>
<thead>
<tr>
<th>Types</th>
<th>Features</th>
</tr>
</thead>
<tbody>
<tr>
<td>Energy</td>
<td>Audio power, Total loudness, Specific loudness sensation coefficients(SONE)</td>
</tr>
<tr>
<td>Rhythm</td>
<td>Rhythm Strength, Rhythm Regularity, Rhythm Clarity, Average onset frequency, Average tempo</td>
</tr>
<tr>
<td>Melody</td>
<td>Salient Pitch, Chromagram center, Key clarity, Mode, Harmonic change</td>
</tr>
<tr>
<td>Timbre</td>
<td>MFCC</td>
</tr>
</tbody>
</table>
<p>Tools recommended：MA Toolbox, MIRtoolbox, Marsyas tool</p>
<p>P10. Developing a benchmark for emotional analysis of music(PloSone2017)<br>This is a interesting competive workshop.<br>“Performance of the different feature-sets on valence, development and evaluation-sets of 2015, 20 fold cross-validation”<br><img src="/2017/04/27/MERFeature/journal.pone.0173392.t007.PNG" alt="journal.pone.0173392.t007.PNG" title=""><br>“Performance of the different feature-sets on arousal, development and evaluation-sets of 2015, 20 fold cross-validation”<br><img src="/2017/04/27/MERFeature/journal.pone.0173392.t008.PNG" alt="journal.pone.0173392.t008.PNG" title=""></p>
<p>Tools recommended：OpenSMILE</p>
<h2 id="Findings"><a href="#Findings" class="headerlink" title="Findings"></a>Findings</h2><ol>
<li><p>Every lab has its own emo-features-set in music. Most common used features:<br>MFCCs, Loudness, Spectral features (centroid, flux, rolloff, flatness), Timbre, Rhythm, Pitch, Harmony, Zero crossing rate</p>
</li>
<li><p>Acoustic feature extraction has better use a number of tools to give a broad mix from which to select the best features:<br>Marsyas, MIRtoolbox, PsySound, OpenSMILE</p>
</li>
</ol>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;Analysis-Content&quot;&gt;&lt;a href=&quot;#Analysis-Content&quot; class=&quot;headerlink&quot; title=&quot;Analysis Content&quot;&gt;&lt;/a&gt;Analysis Content&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;Text-Content   (Web-Documents, Social-Tags, Lyrics)  &lt;/li&gt;
&lt;li&gt;Audio-Content  （Acoustic Features）&lt;/li&gt;
&lt;/ul&gt;
    
    </summary>
    
    
      <category term="MER" scheme="http://huisblog.cn/tags/MER/"/>
    
      <category term="feature" scheme="http://huisblog.cn/tags/feature/"/>
    
  </entry>
  
</feed>
