<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>HuisBlog</title>
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://yoursite.com/"/>
  <updated>2017-04-27T06:53:52.000Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name>Hui Zhang</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Probably Graphic Model</title>
    <link href="http://yoursite.com/2017/04/27/ApplicationMath/pgm/"/>
    <id>http://yoursite.com/2017/04/27/ApplicationMath/pgm/</id>
    <published>2017-04-27T06:40:06.000Z</published>
    <updated>2017-04-27T06:53:52.000Z</updated>
    
    <content type="html"><![CDATA[<p>简而言之，数形结合的思想。</p>
<h2 id="贝叶斯网络"><a href="#贝叶斯网络" class="headerlink" title="贝叶斯网络"></a>贝叶斯网络</h2><p>即有向图模型<br><img src="/2017/04/27/ApplicationMath/pgm/bayes.png" alt="bayes.png" title=""></p>
<h2 id="马尔可夫随机场"><a href="#马尔可夫随机场" class="headerlink" title="马尔可夫随机场"></a>马尔可夫随机场</h2><p>即无向图模型<br><img src="/2017/04/27/ApplicationMath/pgm/makov.png" alt="makov.png" title=""></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;简而言之，数形结合的思想。&lt;/p&gt;
&lt;h2 id=&quot;贝叶斯网络&quot;&gt;&lt;a href=&quot;#贝叶斯网络&quot; class=&quot;headerlink&quot; title=&quot;贝叶斯网络&quot;&gt;&lt;/a&gt;贝叶斯网络&lt;/h2&gt;&lt;p&gt;即有向图模型&lt;br&gt;&lt;img src=&quot;/2017/04/27/Appli
    
    </summary>
    
      <category term="应用工程数学" scheme="http://yoursite.com/categories/%E5%BA%94%E7%94%A8%E5%B7%A5%E7%A8%8B%E6%95%B0%E5%AD%A6/"/>
    
    
      <category term="Math" scheme="http://yoursite.com/tags/Math/"/>
    
  </entry>
  
  <entry>
    <title>Markov Chains &amp; HMM</title>
    <link href="http://yoursite.com/2017/04/27/ApplicationMath/mc/"/>
    <id>http://yoursite.com/2017/04/27/ApplicationMath/mc/</id>
    <published>2017-04-27T06:40:05.000Z</published>
    <updated>2017-04-27T06:48:45.000Z</updated>
    
    <content type="html"><![CDATA[<p>会其意，知其形。</p>
<h2 id="Markov-Chain"><a href="#Markov-Chain" class="headerlink" title="Markov Chain"></a>Markov Chain</h2><p>服从马尔可夫性（无记忆性）：当前状态只与前一个状态有关，与更往前的状态无关。</p>
<h2 id="HMM-Hiden-Markov-Model"><a href="#HMM-Hiden-Markov-Model" class="headerlink" title="HMM(Hiden Markov Model)"></a>HMM(Hiden Markov Model)</h2><p>一个概率模型，用于描述系统隐性状态的转移和隐性状态的表现（输出）概率。</p>
<ul>
<li>可见状态链</li>
<li>隐含状态链    <img src="/2017/04/27/ApplicationMath/mc/chains.jpg" alt="chains.jpg" title=""></li>
<li>隐含状态数量  </li>
<li>隐含状态之间的转换概率(transition probability)    <img src="/2017/04/27/ApplicationMath/mc/transition.jpg" alt="transition.jpg" title=""></li>
<li>隐含状态到可见状态的输出概率(emission probability)    <img src="/2017/04/27/ApplicationMath/mc/emission.jpg" alt="emission.jpg" title="">  
</li>
</ul>
<h3 id="HMM能做什么，怎么做？"><a href="#HMM能做什么，怎么做？" class="headerlink" title="HMM能做什么，怎么做？"></a>HMM能做什么，怎么做？</h3><ol>
<li>估计(evaluation)<br> 转换概率+输出概率 -&gt; 可见状态出现的概率 （动态规划、forward algorithm）</li>
<li>解码(decoding)<br> 转换概率+输出概率+可见状态链 -&gt; 隐含状态链 （极大似然、Viterbi algorithm）      </li>
<li>学习(learning)<br> a. 有可见状态链和隐含状态链-&gt;HMM模型<br> b. 只有可见状态链-&gt;HMM模型</li>
</ol>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;会其意，知其形。&lt;/p&gt;
&lt;h2 id=&quot;Markov-Chain&quot;&gt;&lt;a href=&quot;#Markov-Chain&quot; class=&quot;headerlink&quot; title=&quot;Markov Chain&quot;&gt;&lt;/a&gt;Markov Chain&lt;/h2&gt;&lt;p&gt;服从马尔可夫性（无记忆性）：
    
    </summary>
    
      <category term="应用工程数学" scheme="http://yoursite.com/categories/%E5%BA%94%E7%94%A8%E5%B7%A5%E7%A8%8B%E6%95%B0%E5%AD%A6/"/>
    
    
      <category term="Math" scheme="http://yoursite.com/tags/Math/"/>
    
  </entry>
  
  <entry>
    <title>PCA主成分分析</title>
    <link href="http://yoursite.com/2017/04/27/ApplicationMath/pca/"/>
    <id>http://yoursite.com/2017/04/27/ApplicationMath/pca/</id>
    <published>2017-04-27T06:40:03.000Z</published>
    <updated>2017-04-27T06:46:36.000Z</updated>
    
    <content type="html"><![CDATA[<ol>
<li>零均值化：每个属性值减去其均值</li>
<li>求协方差矩阵</li>
<li>求协方差矩阵的特征值和特征向量</li>
<li>保留主成分</li>
</ol>
]]></content>
    
    <summary type="html">
    
      &lt;ol&gt;
&lt;li&gt;零均值化：每个属性值减去其均值&lt;/li&gt;
&lt;li&gt;求协方差矩阵&lt;/li&gt;
&lt;li&gt;求协方差矩阵的特征值和特征向量&lt;/li&gt;
&lt;li&gt;保留主成分&lt;/li&gt;
&lt;/ol&gt;

    
    </summary>
    
      <category term="应用工程数学" scheme="http://yoursite.com/categories/%E5%BA%94%E7%94%A8%E5%B7%A5%E7%A8%8B%E6%95%B0%E5%AD%A6/"/>
    
    
      <category term="Math" scheme="http://yoursite.com/tags/Math/"/>
    
  </entry>
  
  <entry>
    <title>Point Esimation 点估计</title>
    <link href="http://yoursite.com/2017/04/27/ApplicationMath/pe/"/>
    <id>http://yoursite.com/2017/04/27/ApplicationMath/pe/</id>
    <published>2017-04-27T06:40:02.000Z</published>
    <updated>2017-04-27T06:47:14.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="hoeffdingbu不等式"><a href="#hoeffdingbu不等式" class="headerlink" title="hoeffdingbu不等式"></a>hoeffdingbu不等式</h2><p>用于确认精确度，适用于所有有界的随机变量。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">P(|X-EX|&gt;=t) &lt;= 2exp(-2(tn)^2 / ∑(bi-ai)^2)</div></pre></td></tr></table></figure>
<h2 id="Regression回归分析"><a href="#Regression回归分析" class="headerlink" title="Regression回归分析"></a>Regression回归分析</h2><p>Bias-Variance Tradeoff</p>
<ul>
<li>欠拟合 underfitting 高偏差 bias</li>
<li>过拟合 overfitting 高方差 variance</li>
</ul>
<p>解决方法：1、减少选取的特征数量；2、正则化 regularization</p>
<h2 id="Polynomial-Curve-Fitting"><a href="#Polynomial-Curve-Fitting" class="headerlink" title="Polynomial Curve Fitting"></a>Polynomial Curve Fitting</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">Y = XA </div><div class="line">#使用法向量计算最小二乘法结果</div><div class="line">A = (X.T * X) * X.T * Y</div></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;hoeffdingbu不等式&quot;&gt;&lt;a href=&quot;#hoeffdingbu不等式&quot; class=&quot;headerlink&quot; title=&quot;hoeffdingbu不等式&quot;&gt;&lt;/a&gt;hoeffdingbu不等式&lt;/h2&gt;&lt;p&gt;用于确认精确度，适用于所有有界的随机变量。&lt;
    
    </summary>
    
      <category term="应用工程数学" scheme="http://yoursite.com/categories/%E5%BA%94%E7%94%A8%E5%B7%A5%E7%A8%8B%E6%95%B0%E5%AD%A6/"/>
    
    
      <category term="Math" scheme="http://yoursite.com/tags/Math/"/>
    
  </entry>
  
  <entry>
    <title>聚类</title>
    <link href="http://yoursite.com/2017/04/27/ApplicationMath/cluster/"/>
    <id>http://yoursite.com/2017/04/27/ApplicationMath/cluster/</id>
    <published>2017-04-27T06:40:01.000Z</published>
    <updated>2017-04-27T06:51:16.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="相似性衡量"><a href="#相似性衡量" class="headerlink" title="相似性衡量"></a>相似性衡量</h2><ul>
<li>距离</li>
<li>相似性</li>
<li>核函数</li>
<li>DTW（dynamic time warping 一种特殊的距离算法）</li>
</ul>
<h2 id="聚类算法"><a href="#聚类算法" class="headerlink" title="聚类算法"></a>聚类算法</h2><ul>
<li><p>划分聚类(Partition-based methods)<br>确认聚类数量，挑选初始点 -&gt; 类内的点足够近，类间的点足够远。</p>
</li>
<li><p>密度聚类(Density-based methods)<br>指定圈的最大半径，包含的最少点数量 -&gt; 画圈。</p>
</li>
<li><p>模型聚类(Model-based methods)<br>基于概率模型和神经网络模型 -&gt; 同一类属于同一概率分布</p>
</li>
<li><p>层次聚类(Hierarchical methods)<br>自下而上法 (bottom-up) 和自上而下法 (top-down)，根据linkage迭代联合或者排异。</p>
</li>
<li><p>网格聚类(Grid-based methods)<br>将数据空间划分为网格单元，将数据对象集映射到网格单元中。计算每个单元的密度，根据阈值确定高密度单元 -&gt; 相近的高密度单元组成类</p>
</li>
</ul>
<a id="more"></a>
<h3 id="常用聚类算法"><a href="#常用聚类算法" class="headerlink" title="常用聚类算法"></a>常用聚类算法</h3><p><a href="http://scikit-learn.org/stable/modules/clustering.html#clustering" target="_blank" rel="external">Overview of clustering methods</a>  </p>
<ul>
<li><p>k-means</p>
<img src="/2017/04/27/ApplicationMath/cluster/kmeans01.png" alt="kmeans01.png" title="">
<img src="/2017/04/27/ApplicationMath/cluster/kmeans02.png" alt="kmeans02.png" title="">
</li>
<li><p>GMM</p>
<img src="/2017/04/27/ApplicationMath/cluster/gmm01.png" alt="gmm01.png" title="">
<img src="/2017/04/27/ApplicationMath/cluster/gmm02.png" alt="gmm02.png" title="">
</li>
</ul>
<h2 id="数据简化"><a href="#数据简化" class="headerlink" title="数据简化"></a>数据简化</h2><ul>
<li>变化</li>
<li>降维</li>
<li>抽样</li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;相似性衡量&quot;&gt;&lt;a href=&quot;#相似性衡量&quot; class=&quot;headerlink&quot; title=&quot;相似性衡量&quot;&gt;&lt;/a&gt;相似性衡量&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;距离&lt;/li&gt;
&lt;li&gt;相似性&lt;/li&gt;
&lt;li&gt;核函数&lt;/li&gt;
&lt;li&gt;DTW（dynamic time warping 一种特殊的距离算法）&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;聚类算法&quot;&gt;&lt;a href=&quot;#聚类算法&quot; class=&quot;headerlink&quot; title=&quot;聚类算法&quot;&gt;&lt;/a&gt;聚类算法&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;p&gt;划分聚类(Partition-based methods)&lt;br&gt;确认聚类数量，挑选初始点 -&amp;gt; 类内的点足够近，类间的点足够远。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;密度聚类(Density-based methods)&lt;br&gt;指定圈的最大半径，包含的最少点数量 -&amp;gt; 画圈。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;模型聚类(Model-based methods)&lt;br&gt;基于概率模型和神经网络模型 -&amp;gt; 同一类属于同一概率分布&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;层次聚类(Hierarchical methods)&lt;br&gt;自下而上法 (bottom-up) 和自上而下法 (top-down)，根据linkage迭代联合或者排异。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;网格聚类(Grid-based methods)&lt;br&gt;将数据空间划分为网格单元，将数据对象集映射到网格单元中。计算每个单元的密度，根据阈值确定高密度单元 -&amp;gt; 相近的高密度单元组成类&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
    
    </summary>
    
      <category term="应用工程数学" scheme="http://yoursite.com/categories/%E5%BA%94%E7%94%A8%E5%B7%A5%E7%A8%8B%E6%95%B0%E5%AD%A6/"/>
    
    
      <category term="Math" scheme="http://yoursite.com/tags/Math/"/>
    
  </entry>
  
  <entry>
    <title>音乐情感识别简介</title>
    <link href="http://yoursite.com/2017/04/27/MERintro/"/>
    <id>http://yoursite.com/2017/04/27/MERintro/</id>
    <published>2017-04-27T06:30:54.000Z</published>
    <updated>2017-04-27T06:54:32.000Z</updated>
    
    <content type="html"><![CDATA[<ul>
<li><p>音乐情感识别的重要性：<br>1、用于音乐检索；2、方便用户组织结构；3、增强人机交互。</p>
</li>
<li><p>音乐情感识别的基础框架：  </p>
<img src="/2017/04/27/MERintro/merc1-1.png" alt="音乐情感识别概略图" title="音乐情感识别概略图">
</li>
</ul>
<a id="more"></a>
<ul>
<li><p>音乐情感识别的四个问题：  </p>
<ol>
<li>情感描述的歧义和粒度（不同情感术语之间的模糊边界，少的情感类别不足以描述丰富的情感而多的会增加难度降低准确率）；  </li>
<li>情感注释的认知负载；  </li>
<li>情绪感知的主观性；  </li>
<li>低层特征和高层感知之间的语义鸿沟。  <img src="/2017/04/27/MERintro/merc1-2.png" alt="四个问题" title="四个问题">
</li>
</ol>
</li>
<li><p>《Music Emotion Recognizition》概览  </p>
<img src="/2017/04/27/MERintro/merc1-3.png" alt="本书概览" title="本书概览">
</li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;ul&gt;
&lt;li&gt;&lt;p&gt;音乐情感识别的重要性：&lt;br&gt;1、用于音乐检索；2、方便用户组织结构；3、增强人机交互。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;音乐情感识别的基础框架：  &lt;/p&gt;
&lt;img src=&quot;/2017/04/27/MERintro/merc1-1.png&quot; alt=&quot;音乐情感识别概略图&quot; title=&quot;音乐情感识别概略图&quot;&gt;
&lt;/li&gt;
&lt;/ul&gt;
    
    </summary>
    
    
      <category term="MER" scheme="http://yoursite.com/tags/MER/"/>
    
  </entry>
  
  <entry>
    <title>openSMILE</title>
    <link href="http://yoursite.com/2017/04/27/openSMILE/"/>
    <id>http://yoursite.com/2017/04/27/openSMILE/</id>
    <published>2017-04-27T06:28:08.000Z</published>
    <updated>2017-04-27T06:29:47.000Z</updated>
    
    <content type="html"><![CDATA[<p>S1. 下载最新的稳定版本<a href="http://audeering.com/technology/opensmile/#download" target="_blank" rel="external">openSMILE</a></p>
<p>S2. 下载依赖工具库  </p>
<ul>
<li>autotools(automake, autoconf, libtool, and m4)  </li>
<li>make</li>
<li>GNU C and C++ compiler gcc and g++</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">$ brew install automake</div><div class="line">$ brew install autoconf</div><div class="line">$ brew install libtool</div><div class="line">$ brew install m4</div><div class="line">$ brew install gcc</div></pre></td></tr></table></figure>
<p>S3. 解压并安装</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ tar-zxvf opensmile-X.X.X.tar.gz</div><div class="line">$ cd opensmile-X.X.X</div><div class="line">$ sh buildStandalone.sh</div></pre></td></tr></table></figure>
<p>S4. 测试安装是否成功  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ SMILExtract -h</div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;S1. 下载最新的稳定版本&lt;a href=&quot;http://audeering.com/technology/opensmile/#download&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;openSMILE&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;S2. 下载依赖工具
    
    </summary>
    
    
      <category term="MER" scheme="http://yoursite.com/tags/MER/"/>
    
      <category term="feature" scheme="http://yoursite.com/tags/feature/"/>
    
      <category term="tool" scheme="http://yoursite.com/tags/tool/"/>
    
  </entry>
  
  <entry>
    <title>Features in MER</title>
    <link href="http://yoursite.com/2017/04/27/MERFeature/"/>
    <id>http://yoursite.com/2017/04/27/MERFeature/</id>
    <published>2017-04-27T06:18:24.000Z</published>
    <updated>2017-04-27T06:27:21.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Analysis-Content"><a href="#Analysis-Content" class="headerlink" title="Analysis Content"></a>Analysis Content</h2><ul>
<li>Text-Content   (Web-Documents, Social-Tags, Lyrics)  </li>
<li>Audio-Content  （Acoustic Features）</li>
</ul>
<a id="more"></a>
<h2 id="Audio-Content"><a href="#Audio-Content" class="headerlink" title="Audio-Content"></a>Audio-Content</h2><p>P1. Measurement and time series analysis of emotion in music(Schubert1999 <em>Cited: 118’</em>)<br>A very old book introducing measurement and time series analysis of emotion in music.</p>
<table>
<thead>
<tr>
<th>Types</th>
<th>Features</th>
</tr>
</thead>
<tbody>
<tr>
<td>Loudnedss related</td>
<td>Dynamics</td>
</tr>
<tr>
<td>Pitch related</td>
<td>Mean pitch, Pitch range, Variation in pitch, Melodic contour, Register, Mode, Timbre, Harmony</td>
</tr>
<tr>
<td>Duration related</td>
<td>Tempo, Articulation, Note onset, Vibrato, Rhythm, Metre</td>
</tr>
</tbody>
</table>
<p>P2. Automatic mood detection from acoustic music data(ISMIR2003 <em>Cited: 233’</em>)<br>“It was indicated that mode, intensity, timbre and rhythm are of great significance in arousing different music moods. However, mode is very difficult to obtain from acoustic data (Hinn, 1996). Therefore, only the rest three features are extracted and used in our mood detection system.”</p>
<table>
<thead>
<tr>
<th>Types</th>
<th>Features</th>
</tr>
</thead>
<tbody>
<tr>
<td>Intensity</td>
<td>Root mean-square (RMS) level in decibels</td>
</tr>
<tr>
<td>Rhythm</td>
<td>Average strength, Average correlation peak, Average tempo</td>
</tr>
<tr>
<td>Timbre</td>
<td>Spectral Shape Features: Centroid, Bandwidth, Roll off, Spectral Flux; Spectral Contrast Features: Sub-band Peak, Sub-band Valley, Sub-band Average</td>
</tr>
</tbody>
</table>
<p>P3. Disambiguating Music Emotion Using Software Agents(ISMIR2004 <em>Cited: 118’</em>)<br>This paper confirmed the results of P2 which found that emotional intensity was highly correlated with rhythm and timbre features.</p>
<table>
<thead>
<tr>
<th>Types</th>
<th>Features</th>
</tr>
</thead>
<tbody>
<tr>
<td>Tempo</td>
<td>Beats per Minute (BPM)</td>
</tr>
<tr>
<td>LLD</td>
<td>Low-level standard descriptors from the MPEG-7 audio standard (12 attributes)</td>
</tr>
<tr>
<td>Timbre</td>
<td>Spectral centroid, Spectral rolloff, Spectral flux, Spectral kurtosis</td>
</tr>
<tr>
<td>Intensity</td>
<td>Labels of intensity from 0 to 9 were applied to instances by a human listener</td>
</tr>
<tr>
<td>Another 12 attributes</td>
<td>Generated by a genetic algorithm using the Sony Extractor Discovery System (EDS)</td>
</tr>
</tbody>
</table>
<p>Tools recommended：Wavelet tools, MPEG-7 Low Level Descriptors, Sony Extractor Discovery System (EDS)  </p>
<p>P4. Modeling emotional content of music using system identification(TSMC2005 <em>Cited: 104’</em>)</p>
<table>
<thead>
<tr>
<th>Types</th>
<th>Features</th>
</tr>
</thead>
<tbody>
<tr>
<td>Dynamiscs</td>
<td>Loudness level, Short term max.loudness</td>
</tr>
<tr>
<td>Mean Pitch</td>
<td>Power spectrum centroid, Mean STFT centroid</td>
</tr>
<tr>
<td>Pitch Variation</td>
<td>Mean STFT Flux, Std dev. STFT flux, Std dev. STFT centroid</td>
</tr>
<tr>
<td>Timbre</td>
<td>Timbral Width, Mean STFT rolloff, Std. dev. STFT rolloff, Sharpness(Zwicker and Fastl)</td>
</tr>
<tr>
<td>Harmony</td>
<td>Spectral dissonance(Hutchinson and Knopoff), Spectral dissonance(Sethares), Tonal dissonance(Hutchinson and Knopoff), Tonal dissonance(Sethares), Complex tonalness</td>
</tr>
<tr>
<td>Tempo</td>
<td>Beats Per Minute</td>
</tr>
<tr>
<td>Texture</td>
<td>Multiplicity</td>
</tr>
</tbody>
</table>
<p>Tools recommended：PsySound, Marsyas</p>
<p>P5. Music Emotion Classification: A Fuzzy Approach(ACM MM2006 <em>Cited: 142’</em>)<br>This paper used PsySound2 to extract music features and choose 15 features as recommended in P1. “begins with all 15 features and then greedily removes the worst feature sequentially until no more accuracy improvement can be obtained.” Same as <a href="./papers/popmusic.22.pdf">Detecting and Classifying Emotion in Popular Music</a>(JCIS2006 <em>Cited: 22’</em>)</p>
<table>
<thead>
<tr>
<th>Types</th>
<th>Features</th>
</tr>
</thead>
<tbody>
<tr>
<td>Loudnedss related</td>
<td>Dynamics</td>
</tr>
<tr>
<td>Pitch related</td>
<td>Mean pitch, Pitch range, Variation in pitch, Melodic contour, Register, Mode, Timbre, Harmony</td>
</tr>
<tr>
<td>Duration related</td>
<td>Tempo, Articulation, Note onset, Vibrato, Rhythm, Metre</td>
</tr>
</tbody>
</table>
<p>Tools recommended：PsySound2</p>
<p>P6. Multi-Label Classification of Music into Emotions(ISMIR2008 <em>Cited: 529’</em>)  </p>
<table>
<thead>
<tr>
<th>Types</th>
<th>Features</th>
</tr>
</thead>
<tbody>
<tr>
<td>Rhythm</td>
<td>The two highest peaks and computing their amplitudes, their BMPs (beats per minute) and the high-to-low ratio of their BPMs; Summing the histogram bins between 40-90, 90-140 and 140- 250 BPMs respectively. -&gt; 8</td>
</tr>
<tr>
<td>Timbre</td>
<td>the first 13 MFCCs, spectral centroid, spectral rolloff and spectral flux for per frame -&gt; 16 -&gt; The mean, std, mean std and std std over all frames -&gt; 64</td>
</tr>
</tbody>
</table>
<p>Tools recommended：Marsyas tool</p>
<p>P7. A regression approach to music emotion recognition(TASLP2008 <em>Cited: 319’</em>)<br>“extract musical features and construct a 114-dimension feature space”</p>
<table>
<thead>
<tr>
<th>Types</th>
<th>Features</th>
</tr>
</thead>
<tbody>
<tr>
<td>PsySound</td>
<td>Loudness, Level, Dissonance, Pitch -&gt; 44</td>
</tr>
<tr>
<td>Marsyas</td>
<td>Spectral centroid, Spectral rolloff, Spectral flux, Time domain zero-crossing and Mel-frequency cep- stral coefficient (MFCC) -&gt; 19, 6 rhythmic content features (by beat and tempo detection), 5 pitch content features (by multi- pitch detection) -&gt; 30</td>
</tr>
<tr>
<td>Spectral contrast</td>
<td>Capture the relative spectral information in each subband and utilize the spectral peak, spectral valley, and their dynamics as features -&gt; 12</td>
</tr>
<tr>
<td>DWCH</td>
<td>histograms of Daubechies wavelet co- efficients at different frequency subbands with different resolutions -&gt; 28</td>
</tr>
</tbody>
</table>
<p>Tools recommended：PsySound, Marsyas, Matlab</p>
<p>P8. Music emotion recognition: A state of the art review(ISMIR2010 <em>Cited: 268’</em>)<br>“An overview of the most common acoustic features used for mood recognition”  </p>
<table>
<thead>
<tr>
<th>Types</th>
<th>Features</th>
</tr>
</thead>
<tbody>
<tr>
<td>Dynamics</td>
<td>RMS-Energy</td>
</tr>
<tr>
<td>Timbre</td>
<td>MFCCs, Spectral-Shape, Spectral-Contrast</td>
</tr>
<tr>
<td>Harmony</td>
<td>Roughness, Harmonic-Change, Key-Clarity, Majorness</td>
</tr>
<tr>
<td>Register</td>
<td>Chromagram, Chroma-Centroid and Deviation</td>
</tr>
<tr>
<td>Rhythm</td>
<td>Rhythm-Strength, Regularity, Tempo, Beat-Histograms</td>
</tr>
<tr>
<td>Articulation</td>
<td>Event-Density, Attack-Slope, Attack-Time</td>
</tr>
</tbody>
</table>
<p>Tools recommended：MIRtoolbox  </p>
<p>P9. Machine recognition of music emotion: A review(TIST2012 <em>Cited: 139’</em>)<br>“briefly review some features that have been utilized in MER”</p>
<table>
<thead>
<tr>
<th>Types</th>
<th>Features</th>
</tr>
</thead>
<tbody>
<tr>
<td>Energy</td>
<td>Audio power, Total loudness, Specific loudness sensation coefficients(SONE)</td>
</tr>
<tr>
<td>Rhythm</td>
<td>Rhythm Strength, Rhythm Regularity, Rhythm Clarity, Average onset frequency, Average tempo</td>
</tr>
<tr>
<td>Melody</td>
<td>Salient Pitch, Chromagram center, Key clarity, Mode, Harmonic change</td>
</tr>
<tr>
<td>Timbre</td>
<td>MFCC</td>
</tr>
</tbody>
</table>
<p>Tools recommended：MA Toolbox, MIRtoolbox, Marsyas tool</p>
<p>P10. Developing a benchmark for emotional analysis of music(PloSone2017)<br>This is a interesting competive workshop.<br>“Performance of the different feature-sets on valence, development and evaluation-sets of 2015, 20 fold cross-validation”<br><img src="/2017/04/27/MERFeature/journal.pone.0173392.t007.PNG" alt="journal.pone.0173392.t007.PNG" title=""><br>“Performance of the different feature-sets on arousal, development and evaluation-sets of 2015, 20 fold cross-validation”<br><img src="/2017/04/27/MERFeature/journal.pone.0173392.t008.PNG" alt="journal.pone.0173392.t008.PNG" title=""></p>
<p>Tools recommended：OpenSMILE</p>
<h2 id="Findings"><a href="#Findings" class="headerlink" title="Findings"></a>Findings</h2><ol>
<li><p>Every lab has its own emo-features-set in music. Most common used features:<br>MFCCs, Loudness, Spectral features (centroid, flux, rolloff, flatness), Timbre, Rhythm, Pitch, Harmony, Zero crossing rate</p>
</li>
<li><p>Acoustic feature extraction has better use a number of tools to give a broad mix from which to select the best features:<br>Marsyas, MIRtoolbox, PsySound, OpenSMILE</p>
</li>
</ol>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;Analysis-Content&quot;&gt;&lt;a href=&quot;#Analysis-Content&quot; class=&quot;headerlink&quot; title=&quot;Analysis Content&quot;&gt;&lt;/a&gt;Analysis Content&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;Text-Content   (Web-Documents, Social-Tags, Lyrics)  &lt;/li&gt;
&lt;li&gt;Audio-Content  （Acoustic Features）&lt;/li&gt;
&lt;/ul&gt;
    
    </summary>
    
    
      <category term="MER" scheme="http://yoursite.com/tags/MER/"/>
    
      <category term="feature" scheme="http://yoursite.com/tags/feature/"/>
    
  </entry>
  
  <entry>
    <title>音乐情感计算相关期刊收集整理</title>
    <link href="http://yoursite.com/2017/04/27/journals/"/>
    <id>http://yoursite.com/2017/04/27/journals/</id>
    <published>2017-04-27T06:13:41.000Z</published>
    <updated>2017-04-27T06:55:09.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="SCI"><a href="#SCI" class="headerlink" title="SCI"></a>SCI</h2><ul>
<li>TIST<br><a href="http://tist.acm.org/index.cfm" target="_blank" rel="external">ACM Transactions on Intelligent Systems and Technology</a></li>
<li>TAC<br><a href="http://ieeexplore.ieee.org/xpl/RecentIssue.jsp?punumber=5165369" target="_blank" rel="external">IEEE Transactions on Affective Computing</a></li>
</ul>
<a id="more"></a>
<h2 id="EI"><a href="#EI" class="headerlink" title="EI"></a>EI</h2><ul>
<li>TASLP<br><a href="http://signalprocessingsociety.org/publications-resources/ieeeacm-transactions-audio-speech-and-language-processing/ieeeacm" target="_blank" rel="external">IEEE/ACM Transactions on Audio, Speech, and Language Processing</a>  </li>
<li>JAIST<br><a href="https://www.asist.org/publications/jasist/" target="_blank" rel="external">Journal of the Association for Information Science and Technology</a></li>
</ul>
<h2 id="相关会议"><a href="#相关会议" class="headerlink" title="相关会议"></a>相关会议</h2><ul>
<li>ICMC<br>[International Computer Music Conference]  </li>
<li>ICASSP<br>[IEEE International Conference on Acoustics, Speech<br>and Signal Processing]</li>
<li>MM<br>[ACM Multimedia]</li>
<li>ISMIR<br>[International Society for Music Information<br>Retrieval Conference]</li>
</ul>
<h2 id="期刊类型"><a href="#期刊类型" class="headerlink" title="期刊类型"></a>期刊类型</h2><p>判断期刊是否是SCI/EI:<br>EI: <a href="https://www.engineeringvillage.com/search/quick.url" target="_blank" rel="external">Engineering Vallige</a> Database选择Compendex（IE网络版）<br>SCI: <a href="http://ip-science.thomsonreuters.com/mjl/" target="_blank" rel="external">期刊列表</a>，<a href="http://apps.webofknowledge.com/UA_GeneralSearch_input.do?product=UA&amp;search_mode=GeneralSearch&amp;SID=3CXjlEnOuKswueSjVDT&amp;preferencesSaved=" target="_blank" rel="external">查询文章</a>选择World of Science</p>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;SCI&quot;&gt;&lt;a href=&quot;#SCI&quot; class=&quot;headerlink&quot; title=&quot;SCI&quot;&gt;&lt;/a&gt;SCI&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;TIST&lt;br&gt;&lt;a href=&quot;http://tist.acm.org/index.cfm&quot;&gt;ACM Transactions on Intelligent Systems and Technology&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;TAC&lt;br&gt;&lt;a href=&quot;http://ieeexplore.ieee.org/xpl/RecentIssue.jsp?punumber=5165369&quot;&gt;IEEE Transactions on Affective Computing&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
    
    </summary>
    
    
      <category term="MER" scheme="http://yoursite.com/tags/MER/"/>
    
  </entry>
  
  <entry>
    <title>Github Pages + Hexo</title>
    <link href="http://yoursite.com/2017/04/26/NewBlog/"/>
    <id>http://yoursite.com/2017/04/26/NewBlog/</id>
    <published>2017-04-26T15:50:31.000Z</published>
    <updated>2017-04-27T06:11:42.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="博客站点迁移"><a href="#博客站点迁移" class="headerlink" title="博客站点迁移"></a>博客站点迁移</h1><p>阿里云服务器快要到期不想再续，遂决定将博客迁移到免费的<code>GitHub Pages</code>上。</p>
<h2 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h2><p><code>Github Pages</code>+<code>Hexo</code>(不使用<code>Jekyll</code>是因为没有找到好看的主题)  </p>
<ol>
<li>在GitHub上创建<code>GitHub Pages</code></li>
<li>配置本地<code>Hexo</code>环境，并与<code>GitHub Pages</code>绑定</li>
<li>绑定域名</li>
</ol>
<a id="more"></a>
<h2 id="创建Github-Pages"><a href="#创建Github-Pages" class="headerlink" title="创建Github Pages"></a>创建Github Pages</h2><p>直接在<code>GitHub</code>网站上创建一个仓库，仓库名必须为<code>myusername.github.io</code>。<br><img src="/2017/04/26/NewBlog/1493223050689.png" alt="1493223050689.png" title=""></p>
<h2 id="安装并配置Hexo"><a href="#安装并配置Hexo" class="headerlink" title="安装并配置Hexo"></a>安装并配置Hexo</h2><p>Step1. 根据<a href="https://hexo.io/zh-cn/docs/" target="_blank" rel="external">Hexo中文文档</a>中的提示进行安装：  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">#先安装依赖库Node.js（假定已经安装好了Git）</div><div class="line">$ brew install Node.js</div><div class="line">#下载安装Hexo</div><div class="line">$ npm install -g hexo-cli</div></pre></td></tr></table></figure>
<p>Step2. 开始在本地建站</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ hexo init &lt;Blogfolder&gt;</div><div class="line">$ cd &lt;Blogfolder&gt;</div><div class="line">$ npm install</div></pre></td></tr></table></figure>
<p>Step3. 在博客文件根目录下打开终端，启动本地服务器查看建站是否成功。成功后可以在<code>localhost:4000</code>浏览博客Hello World。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo s</div></pre></td></tr></table></figure>
<img src="/2017/04/26/NewBlog/1493223087552.png" alt="1493223087552.png" title="">
<p>Step4. 根据<a href="https://hexo.io/docs/deployment.html" target="_blank" rel="external">Hexo配置文档</a>部署网站到<code>github pages</code><br>a. 修改站点配置文件<code>_config.yml</code>(Blogfolder/_config.yml)中的Deployment模块，把其中repo字段的值替换成自己github pages提交代码的git地址。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">deploy:</div><div class="line">  type: git</div><div class="line">  repo: https://github.com/HuiZhangDB/HuiZhangDB.github.io.git</div><div class="line">  branch: master</div></pre></td></tr></table></figure>
<p>b.安装Hexo的Git部署插件<a href="https://github.com/hexojs/hexo-deployer-git" target="_blank" rel="external">hexo-deployer-git</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ npm install hexo-deployer-git --save</div></pre></td></tr></table></figure>
<p>c. 现在可以把它发布到GitHub Pages上啦！</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ hexo clean  #清除缓存，在更改主题等后要使用</div><div class="line">$ hexo g      #生成静态文件</div><div class="line">$ hexo d      #部署网站</div></pre></td></tr></table></figure>
<p>d. 在浏览器输入<code>http://myusername.github.io</code>可以看到自己的博客啦~</p>
<p>Step.5 自定义Hexo主题<br><a href="https://hexo.io/themes/" target="_blank" rel="external">Hexo模板</a>中有许多好看的模板可以选择，我选择了简洁好看的<a href="https://github.com/ahonn/hexo-theme-even" target="_blank" rel="external">even</a>主题。它的<a href="https://github.com/ahonn/hexo-theme-even/wiki" target="_blank" rel="external">主题文档</a>很详细地写了设置步骤，这里不再赘述。</p>
<h2 id="绑定域名"><a href="#绑定域名" class="headerlink" title="绑定域名"></a>绑定域名</h2><ol>
<li>购买域名</li>
<li>选择一个DNS解析服务器</li>
<li><p>域名解析到<code>myusrname.github.io</code>，以及Github Pages提供的IP:   </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">192.30.252.153</div><div class="line">192.30.252.154</div></pre></td></tr></table></figure>
</li>
<li><p>在本地站点的<code>source</code>文件夹中创建<code>CNAME</code>文件，填写域名（不加http://）</p>
</li>
<li>将本地站点部署更新到Github Pages</li>
<li>等待DNS解析生效</li>
<li>可以在浏览器输入自己的域名查看博客啦！</li>
</ol>
<h2 id="可以开始写文章啦！"><a href="#可以开始写文章啦！" class="headerlink" title="可以开始写文章啦！"></a>可以开始写文章啦！</h2><p>为了方便管理文章中的图片等资源，可以开启<a href="https://hexo.io/zh-cn/docs/asset-folders.html" target="_blank" rel="external">Hexo的资源文件管理功能</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">#将站点配置文件_config.yml中的post_asset_folder选项设为true来打开</div><div class="line">post_asset_folder: true</div></pre></td></tr></table></figure>
<p>接下来就可以开始自由写作啦~</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">$ hexo new (post) title</div><div class="line">...writing</div><div class="line">$ hexo clean</div><div class="line">$ hexo d -g</div></pre></td></tr></table></figure>
<p>为了方便文章管理，Hexo提供了可视化写作插件<a href="https://github.com/nihgwu/hexo-hey" target="_blank" rel="external">hey</a>，优点是可以拖拽图片，缺点是不方便随时写作。  </p>
<h2 id="致谢"><a href="#致谢" class="headerlink" title="致谢"></a>致谢</h2><p>HuisBlog博客搭建过程主要参考<a href="http://www.jianshu.com/p/834d7cc0668d" target="_blank" rel="external">水瓶座iOSer的简书</a>，在此提出感谢。</p>
]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;博客站点迁移&quot;&gt;&lt;a href=&quot;#博客站点迁移&quot; class=&quot;headerlink&quot; title=&quot;博客站点迁移&quot;&gt;&lt;/a&gt;博客站点迁移&lt;/h1&gt;&lt;p&gt;阿里云服务器快要到期不想再续，遂决定将博客迁移到免费的&lt;code&gt;GitHub Pages&lt;/code&gt;上。&lt;/p&gt;
&lt;h2 id=&quot;概述&quot;&gt;&lt;a href=&quot;#概述&quot; class=&quot;headerlink&quot; title=&quot;概述&quot;&gt;&lt;/a&gt;概述&lt;/h2&gt;&lt;p&gt;&lt;code&gt;Github Pages&lt;/code&gt;+&lt;code&gt;Hexo&lt;/code&gt;(不使用&lt;code&gt;Jekyll&lt;/code&gt;是因为没有找到好看的主题)  &lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;在GitHub上创建&lt;code&gt;GitHub Pages&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;配置本地&lt;code&gt;Hexo&lt;/code&gt;环境，并与&lt;code&gt;GitHub Pages&lt;/code&gt;绑定&lt;/li&gt;
&lt;li&gt;绑定域名&lt;/li&gt;
&lt;/ol&gt;
    
    </summary>
    
      <category term="博客" scheme="http://yoursite.com/categories/%E5%8D%9A%E5%AE%A2/"/>
    
    
      <category term="github" scheme="http://yoursite.com/tags/github/"/>
    
      <category term="hexo" scheme="http://yoursite.com/tags/hexo/"/>
    
  </entry>
  
  <entry>
    <title>Python2.7 基础学习笔记</title>
    <link href="http://yoursite.com/2016/12/26/Python/index/"/>
    <id>http://yoursite.com/2016/12/26/Python/index/</id>
    <published>2016-12-26T15:50:33.000Z</published>
    <updated>2017-04-27T05:37:50.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote>
<p>Python基础学习</p>
<blockquote>
<ul>
<li><a href="/2016/12/02/Python/PythonBasis/" title="语法基础与高级特性">语法基础与高级特性</a>  </li>
<li><a href="/2016/12/04/Python/PythonFunction/" title="函数式编程">函数式编程</a>  </li>
<li><a href="/2016/12/05/Python/PythonModule/" title="模块">模块</a></li>
<li><a href="/2016/12/06/Python/PythonOOP/" title="面向对象编程">面向对象编程</a></li>
<li><a href="/2016/12/06/Python/PythonAdOOP/" title="面向对象高级编程">面向对象高级编程</a>    </li>
<li><a href="/2016/12/06/Python/PythonDebug/" title="错误、调试与测试">错误、调试与测试</a></li>
<li><a href="/2016/12/06/Python/PythonIO/" title="IO编程">IO编程</a></li>
<li><a href="/2016/12/06/Python/PythonRE/" title="正则表达式">正则表达式</a>  </li>
<li><a href="/2016/12/26/Python/Socket/" title="Socket通信">Socket通信</a> </li>
<li><a href="/2016/12/26/Python/PythonWeb/" title="Web简介">Web简介</a> </li>
<li><a href="/2016/12/06/Python/PythonTips/" title="Python小贴士">Python小贴士</a> 
</li>
</ul>
</blockquote>
</blockquote>
<font color="#F79159"><strong>感谢网上恩师<a href="http://www.liaoxuefeng.com/wiki/001374738125095c955c1e6d8bb493182103fac9270762a000" target="_blank" rel="external">廖雪峰老师的Python教程</a>。</strong> </font>

]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;Python基础学习&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;/2016/12/02/Python/PythonBasis/&quot; title=&quot;语法基础与高级特性&quot;&gt;语法基础与高级特性&lt;/a&gt;  &lt;/li&gt;
&lt;li&gt;&lt;a
    
    </summary>
    
      <category term="Python基础" scheme="http://yoursite.com/categories/Python%E5%9F%BA%E7%A1%80/"/>
    
    
      <category term="python" scheme="http://yoursite.com/tags/python/"/>
    
  </entry>
  
  <entry>
    <title>矩阵运算</title>
    <link href="http://yoursite.com/2016/12/26/Python/PythonMat/"/>
    <id>http://yoursite.com/2016/12/26/Python/PythonMat/</id>
    <published>2016-12-26T15:50:31.000Z</published>
    <updated>2017-04-27T03:10:35.000Z</updated>
    
    <content type="html"><![CDATA[<p>Python的<code>numpy</code>模块提供矩阵运算的功能，其中有两种不同的数据类型<code>matrix</code>和<code>array</code>都可以用于处理行列表示的数字元素。虽然它们看起来相似，但是在这两个数据类型上执行相同的数学运算可以得到不同的结果，其中<code>matrix</code>与MATLAB中的<code>matrices</code>等价。</p>
<p>具体来说，<code>matrix</code>是<code>array</code>的子类，要求维数必须为2。需要注意的是<code>array</code>的<code>*</code>表示元素分别相乘，<code>dot</code>才表示矩阵点乘。</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Python的&lt;code&gt;numpy&lt;/code&gt;模块提供矩阵运算的功能，其中有两种不同的数据类型&lt;code&gt;matrix&lt;/code&gt;和&lt;code&gt;array&lt;/code&gt;都可以用于处理行列表示的数字元素。虽然它们看起来相似，但是在这两个数据类型上执行相同的数学运算可以得
    
    </summary>
    
      <category term="Python基础" scheme="http://yoursite.com/categories/Python%E5%9F%BA%E7%A1%80/"/>
    
    
      <category term="python" scheme="http://yoursite.com/tags/python/"/>
    
  </entry>
  
  <entry>
    <title>Socket通信</title>
    <link href="http://yoursite.com/2016/12/26/Python/Socket/"/>
    <id>http://yoursite.com/2016/12/26/Python/Socket/</id>
    <published>2016-12-26T08:32:19.000Z</published>
    <updated>2017-04-27T05:21:18.000Z</updated>
    
    <content type="html"><![CDATA[<a id="more"></a>
<h2 id="socket中TCP的三次握手建立连接"><a href="#socket中TCP的三次握手建立连接" class="headerlink" title="socket中TCP的三次握手建立连接"></a>socket中TCP的三次握手建立连接</h2><img src="/2016/12/26/Python/Socket/tcpsend.png" alt="tcpsend.png" title="">
<h2 id="socket中TCP的四次握手释放连接"><a href="#socket中TCP的四次握手释放连接" class="headerlink" title="socket中TCP的四次握手释放连接"></a>socket中TCP的四次握手释放连接</h2><img src="/2016/12/26/Python/Socket/tcpend.png" alt="tcpend.png" title="">
<p>TCP客户端和服务器端通信例子： </p>
<ul>
<li><a href="/2016/12/26/Python/Socket/tcp_client.py" title="客户端">客户端</a></li>
<li><a href="/2016/12/26/Python/Socket/tcp_server.py" title="服务器端">服务器端</a>
</li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;h2 id=&quot;socket中TCP的三次握手建立连接&quot;&gt;&lt;a href=&quot;#socket中TCP的三次握手建立连接&quot; class=&quot;headerlink&quot; title=&quot;socket中TCP的三次握手建立连接&quot;&gt;&lt;/a&gt;socket中TCP的
    
    </summary>
    
      <category term="Python基础" scheme="http://yoursite.com/categories/Python%E5%9F%BA%E7%A1%80/"/>
    
    
      <category term="python" scheme="http://yoursite.com/tags/python/"/>
    
  </entry>
  
  <entry>
    <title>Python Web</title>
    <link href="http://yoursite.com/2016/12/26/Python/PythonWeb/"/>
    <id>http://yoursite.com/2016/12/26/Python/PythonWeb/</id>
    <published>2016-12-26T08:32:19.000Z</published>
    <updated>2017-04-27T03:08:10.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="HTML简介"><a href="#HTML简介" class="headerlink" title="HTML简介"></a>HTML简介</h2><p>HTML定义了页面的内容，CSS控制了页面元素的样式，而JavaScript负责页面的交互逻辑。</p>
<a id="more"></a>
<h2 id="WSGI-Web-Server-Gateway-Interface"><a href="#WSGI-Web-Server-Gateway-Interface" class="headerlink" title="WSGI(Web Server Gateway Interface)"></a>WSGI(Web Server Gateway Interface)</h2><p>处理TCP连接，HTTP原始请求和相应格式。</p>
<p>无论多么复杂的Web应用程序，入口都是一个WISG处理函数。HTTP请求的所有输入信息都可以通过<code>environ</code>获得，HTTP响应的输出都可以通过<code>start_response()</code>加上函数返回值作为Body。</p>
<h2 id="使用Web框架"><a href="#使用Web框架" class="headerlink" title="使用Web框架"></a>使用Web框架</h2><p>实现url到函数的映射</p>
<h2 id="MVC"><a href="#MVC" class="headerlink" title="MVC"></a>MVC</h2><p>Model-View-Controller，”模型-视图-控制器“。</p>
<p>最大限度分离Python代码和HTML代码</p>
<p><strong>感谢网上恩师<a href="http://www.liaoxuefeng.com/wiki/001374738125095c955c1e6d8bb493182103fac9270762a000" target="_blank" rel="external">廖雪峰老师的Python教程</a>，本文大部分内容都摘自于此。</strong></p>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;HTML简介&quot;&gt;&lt;a href=&quot;#HTML简介&quot; class=&quot;headerlink&quot; title=&quot;HTML简介&quot;&gt;&lt;/a&gt;HTML简介&lt;/h2&gt;&lt;p&gt;HTML定义了页面的内容，CSS控制了页面元素的样式，而JavaScript负责页面的交互逻辑。&lt;/p&gt;
    
    </summary>
    
      <category term="Python基础" scheme="http://yoursite.com/categories/Python%E5%9F%BA%E7%A1%80/"/>
    
    
      <category term="python" scheme="http://yoursite.com/tags/python/"/>
    
  </entry>
  
  <entry>
    <title>Python进程和线程</title>
    <link href="http://yoursite.com/2016/12/06/Python/PythonMulTask/"/>
    <id>http://yoursite.com/2016/12/06/Python/PythonMulTask/</id>
    <published>2016-12-06T03:05:07.000Z</published>
    <updated>2017-04-27T02:52:21.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="多进程"><a href="#多进程" class="headerlink" title="多进程"></a>多进程</h2><p>先略过多任务部分。。蓝瘦香菇。。</p>
<p><strong>感谢网上恩师<a href="http://www.liaoxuefeng.com/wiki/001374738125095c955c1e6d8bb493182103fac9270762a000" target="_blank" rel="external">廖雪峰老师的Python教程</a>，本文大部分内容都摘自于此。</strong></p>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;多进程&quot;&gt;&lt;a href=&quot;#多进程&quot; class=&quot;headerlink&quot; title=&quot;多进程&quot;&gt;&lt;/a&gt;多进程&lt;/h2&gt;&lt;p&gt;先略过多任务部分。。蓝瘦香菇。。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;感谢网上恩师&lt;a href=&quot;http://www.liaoxuef
    
    </summary>
    
      <category term="Python基础" scheme="http://yoursite.com/categories/Python%E5%9F%BA%E7%A1%80/"/>
    
    
      <category term="python" scheme="http://yoursite.com/tags/python/"/>
    
  </entry>
  
  <entry>
    <title>Python错误、调试和测试</title>
    <link href="http://yoursite.com/2016/12/06/Python/PythonDebug/"/>
    <id>http://yoursite.com/2016/12/06/Python/PythonDebug/</id>
    <published>2016-12-06T03:05:07.000Z</published>
    <updated>2017-04-27T05:29:36.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="错误处理"><a href="#错误处理" class="headerlink" title="错误处理"></a>错误处理</h2><p><code>try</code>…<code>except</code>…<code>finnaly</code>…</p>
<a id="more"></a>
<h2 id="调试"><a href="#调试" class="headerlink" title="调试"></a>调试</h2><h3 id="print"><a href="#print" class="headerlink" title="print"></a>print</h3><p>简单粗暴不加以赘述</p>
<h3 id="assert"><a href="#assert" class="headerlink" title="assert"></a>assert</h3><p>凡是用<code>print</code>来辅助查看的地方，都可以用断言<code>assert</code>来代替。如果断言失败，<code>assert</code>语句本身就会抛出<code>AssertionError</code>。</p>
<p>在启动Python解释器时，可以使用<code>-O</code>参数来关闭<code>assert</code>,此时所有的<code>assert</code>语句可以被看做<code>pass</code>。</p>
<h3 id="logging"><a href="#logging" class="headerlink" title="logging"></a>logging</h3><p><code>logging</code>不会抛出错误，而且会=可以输出到文件。</p>
<h3 id="pdb和IDE"><a href="#pdb和IDE" class="headerlink" title="pdb和IDE"></a>pdb和IDE</h3><p>虽然IDE用起来比较方便，但是最后你会发现logging才是终极武器。</p>
<h2 id="单元测试"><a href="#单元测试" class="headerlink" title="单元测试"></a>单元测试</h2><p>单元测试是用来对一个模块、一个函数或者一个类来进行正确性检验的测试工作，是未来重构代码的信心保证。</p>
<p>单元测试的测试用例要覆盖常用的输入组合、边界条件和各种异常。单元测试代码要非常简单，如果测试代码太复杂，那么它可能本身就有bug。</p>
<h2 id="文档测试"><a href="#文档测试" class="headerlink" title="文档测试"></a>文档测试</h2><p><code>doctest</code>可以直接提取注释中的代码并执行测试。<code>doctest</code>严格按照Python交互式命令行的输入和输出来判断测试结果是否正确。只有测试异常的时候可以用<code>...</code>表示中间一大段烦人的输出。测试文档<a href="/2016/12/06/Python/PythonDebug/mydict.py" title="mydict.py">mydict.py</a></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#!/usr/bin/env python</span></div><div class="line"><span class="comment">#coding = utf-8</span></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dict</span><span class="params">(dict)</span>:</span></div><div class="line">	<span class="string">'''</span></div><div class="line">	a simple dict</div><div class="line"></div><div class="line">	&gt;&gt;&gt; d1 = Dict()</div><div class="line">	&gt;&gt;&gt; d1['x'] = 100</div><div class="line">	&gt;&gt;&gt; d1.x</div><div class="line">	100</div><div class="line">	&gt;&gt;&gt; d1.y = 200</div><div class="line">	&gt;&gt;&gt; d1['y']</div><div class="line">	200</div><div class="line">	&gt;&gt;&gt; d2 = Dict(a=1,b=2,c='3')</div><div class="line">	&gt;&gt;&gt; d2.c</div><div class="line">	'3'</div><div class="line">    &gt;&gt;&gt; d2['empty']</div><div class="line">    Traceback (most recent call last):</div><div class="line">        ...</div><div class="line">    KeyError: 'empty'</div><div class="line">    &gt;&gt;&gt; d2.empty</div><div class="line">    Traceback (most recent call last):</div><div class="line">        ...</div><div class="line">    AttributeError: 'Dict' object has no attribute 'empty'</div><div class="line">    '''</div><div class="line">    </div><div class="line">	<span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self,**kw)</span>:</span></div><div class="line">		super(Dict,self).__init__(**kw)</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">def</span> <span class="title">__getattr__</span><span class="params">(self,key)</span>:</span></div><div class="line">		<span class="keyword">try</span>:</div><div class="line">			<span class="keyword">return</span> self[key]</div><div class="line">		<span class="keyword">except</span> KeyError:</div><div class="line">			<span class="keyword">raise</span> AttributeError(<span class="string">"'Dict' object has no attribute '%s'"</span> %key)</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">def</span> <span class="title">__setattr__</span><span class="params">(self,key,value)</span>:</span></div><div class="line">		self[key] = value</div><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</div><div class="line">	<span class="keyword">import</span> doctest</div><div class="line">	doctest.testmod()</div></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line">$ python mydict.py</div><div class="line">$</div><div class="line"><span class="comment">#什么输出也没有说明doctest的运行都是正确的.</span></div><div class="line"><span class="comment">#如果程序有问题比如注释掉'__getattr__()'，再运行就会出错：</span></div><div class="line">$ python mydict.py</div><div class="line">**********************************************************************</div><div class="line">File <span class="string">"mydict.py"</span>, line <span class="number">10</span>, <span class="keyword">in</span> __main__.Dict</div><div class="line">Failed example:</div><div class="line">    d1.x</div><div class="line">Exception raised:</div><div class="line">    Traceback (most recent call last):</div><div class="line">      ...</div><div class="line">    AttributeError: <span class="string">'Dict'</span> object has no attribute <span class="string">'x'</span></div><div class="line">**********************************************************************</div><div class="line">File <span class="string">"mydict.py"</span>, line <span class="number">16</span>, <span class="keyword">in</span> __main__.Dict</div><div class="line">Failed example:</div><div class="line">    d2.c</div><div class="line">Exception raised:</div><div class="line">    Traceback (most recent call last):</div><div class="line">      ...</div><div class="line">    AttributeError: <span class="string">'Dict'</span> object has no attribute <span class="string">'c'</span></div><div class="line">**********************************************************************</div><div class="line"><span class="number">1</span> items had failures:</div><div class="line">   <span class="number">2</span> of   <span class="number">9</span> <span class="keyword">in</span> __main__.Dict</div><div class="line">***Test Failed*** <span class="number">2</span> failures.</div></pre></td></tr></table></figure>
<p><strong>感谢网上恩师<a href="http://www.liaoxuefeng.com/wiki/001374738125095c955c1e6d8bb493182103fac9270762a000" target="_blank" rel="external">廖雪峰老师的Python教程</a>，本文大部分内容都摘自于此。</strong></p>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;错误处理&quot;&gt;&lt;a href=&quot;#错误处理&quot; class=&quot;headerlink&quot; title=&quot;错误处理&quot;&gt;&lt;/a&gt;错误处理&lt;/h2&gt;&lt;p&gt;&lt;code&gt;try&lt;/code&gt;…&lt;code&gt;except&lt;/code&gt;…&lt;code&gt;finnaly&lt;/code&gt;…&lt;/p&gt;
    
    </summary>
    
      <category term="Python基础" scheme="http://yoursite.com/categories/Python%E5%9F%BA%E7%A1%80/"/>
    
    
      <category term="python" scheme="http://yoursite.com/tags/python/"/>
    
  </entry>
  
  <entry>
    <title>PythonIO编程</title>
    <link href="http://yoursite.com/2016/12/06/Python/PythonIO/"/>
    <id>http://yoursite.com/2016/12/06/Python/PythonIO/</id>
    <published>2016-12-06T03:05:07.000Z</published>
    <updated>2017-04-27T05:38:49.000Z</updated>
    
    <content type="html"><![CDATA[<p>IO编程有两种模式，一种是<code>同步IO</code>，一种是<code>异步IO</code>。使用异步IO编写程序的性能会远远高于同步IO，但异步IO的缺点是编程模型复杂度远远高于同步IO。这里先讨论同步模式，异步IO复杂度太高，后续涉及到服务器端程序开发时再讨论。</p>
<a id="more"></a>
<h2 id="文件读写"><a href="#文件读写" class="headerlink" title="文件读写"></a>文件读写</h2><p>操作文件的好习惯是使用<code>with</code>语句</p>
<h3 id="file-like-Object"><a href="#file-like-Object" class="headerlink" title="file-like Object"></a>file-like Object</h3><p>有<code>read()</code>方法的对象在Python中统称为file-like Object。除了文件外，还可以是内存的字节流、网络流、自定义流等。</p>
<h3 id="字符编码"><a href="#字符编码" class="headerlink" title="字符编码"></a>字符编码</h3><p>为了避免手动转码，可以使用<code>codecs</code>模块。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span>txt = <span class="string">u'测试'</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>txt</div><div class="line"><span class="string">u'\u6d4b\u8bd5'</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">with</span> codecs.open(<span class="string">'testw.txt'</span>,<span class="string">'w'</span>,<span class="string">'utf-8'</span>) <span class="keyword">as</span> f:</div><div class="line"><span class="meta">... </span>    f.write(txt)</div><div class="line"><span class="meta">... </span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>f</div><div class="line">&lt;closed file <span class="string">'testw.txt'</span>, mode <span class="string">'wb'</span> at <span class="number">0x10b35aae0</span>&gt;</div><div class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">with</span> codecs.open(<span class="string">'testw.txt'</span>,<span class="string">'r'</span>,<span class="string">'utf-8'</span>) <span class="keyword">as</span> f:</div><div class="line"><span class="meta">... </span>    f.read()</div><div class="line"><span class="meta">... </span></div><div class="line"><span class="string">u'\u6d4b\u8bd5'</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>u = <span class="string">u'\u6d4b\u8bd5'</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">print</span> u</div><div class="line">测试</div></pre></td></tr></table></figure>
<h2 id="操作文件和目录"><a href="#操作文件和目录" class="headerlink" title="操作文件和目录"></a>操作文件和目录</h2><p>使用<code>os</code>,<code>os.path</code>以及<code>shutil</code>模块来操作文件和目录。<br>示例代码<a href="/2016/12/06/Python/PythonIO/search.py" title="search.py">search.py</a></p>
<h2 id="序列化"><a href="#序列化" class="headerlink" title="序列化"></a>序列化</h2><p>将变量从内存中变成可存储或传输的过程称之为序列化(picking)，序列化之后的内容就可以写入磁盘或者通过网络传输到其它机器上。反之将变量内容从序列化的对象重新读到内存里称之为反序列化(unpicking)。</p>
<h3 id="pickle和Cpickle"><a href="#pickle和Cpickle" class="headerlink" title="pickle和Cpickle"></a>pickle和Cpickle</h3><p>只能用于Python，且不同版本彼此不兼容，只能用于保存不重要的数据。</p>
<h3 id="Json"><a href="#Json" class="headerlink" title="Json"></a>Json</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">dumps(obj,default)   <span class="comment">#object-&gt;json</span></div><div class="line">loads(json_str,object_hook)   <span class="comment">#json-&gt;object</span></div></pre></td></tr></table></figure>
<p><strong>感谢网上恩师<a href="http://www.liaoxuefeng.com/wiki/001374738125095c955c1e6d8bb493182103fac9270762a000" target="_blank" rel="external">廖雪峰老师的Python教程</a>，本文大部分内容都摘自于此。</strong></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;IO编程有两种模式，一种是&lt;code&gt;同步IO&lt;/code&gt;，一种是&lt;code&gt;异步IO&lt;/code&gt;。使用异步IO编写程序的性能会远远高于同步IO，但异步IO的缺点是编程模型复杂度远远高于同步IO。这里先讨论同步模式，异步IO复杂度太高，后续涉及到服务器端程序开发时再讨论。&lt;/p&gt;
    
    </summary>
    
      <category term="Python基础" scheme="http://yoursite.com/categories/Python%E5%9F%BA%E7%A1%80/"/>
    
    
      <category term="python" scheme="http://yoursite.com/tags/python/"/>
    
  </entry>
  
  <entry>
    <title>Python面向对象高级编程</title>
    <link href="http://yoursite.com/2016/12/06/Python/PythonAdOOP/"/>
    <id>http://yoursite.com/2016/12/06/Python/PythonAdOOP/</id>
    <published>2016-12-06T03:05:07.000Z</published>
    <updated>2017-04-27T03:05:32.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="实例动态绑定"><a href="#实例动态绑定" class="headerlink" title="实例动态绑定"></a>实例动态绑定</h2><p>通常情况下，我们可以给实例绑定任何属性和方法，这就是动态语言的灵活性。但是给一个实例绑定的方法对另一个实例是不起作用的。为了给所有实例都绑定方法，可以给class绑定方法。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">addmethod</span><span class="params">(self)</span>:</span></div><div class="line">	<span class="keyword">pass</span></div><div class="line">	</div><div class="line">Student.addmethod = MethodType(addmethod,<span class="keyword">None</span>,Student)</div></pre></td></tr></table></figure>
<a id="more"></a>
<p>如果想要限制class的属性，可以使用特殊变量<code>__slots__</code>来限制该class能添加的属性：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span><span class="class"><span class="keyword">class</span> <span class="title">Student</span><span class="params">(object)</span>:</span></div><div class="line"><span class="meta">... </span>    __slots__ = (<span class="string">'name'</span>,<span class="string">'age'</span>)<span class="comment">#用tuple定义允许绑定的属性名称</span></div><div class="line"><span class="meta">... </span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>s = Student()</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>s.name = <span class="string">'Micheal'</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>s.age = <span class="number">8</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>s.score = <span class="number">90</span></div><div class="line">Traceback (most recent call last):</div><div class="line">  File <span class="string">"&lt;stdin&gt;"</span>, line <span class="number">1</span>, <span class="keyword">in</span> &lt;module&gt;</div><div class="line">AttributeError: <span class="string">'Student'</span> object has no attribute <span class="string">'score'</span></div></pre></td></tr></table></figure>
<p>需要注意的是，<code>__score__</code>中定义的属性仅对当前类起作用，对继承的子类是不起作用的。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span><span class="class"><span class="keyword">class</span> <span class="title">GraduateStudent</span><span class="params">(Student)</span>:</span></div><div class="line"><span class="meta">... </span>    <span class="keyword">pass</span></div><div class="line"><span class="meta">... </span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>g = GraduateStudent()</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>g.score = <span class="number">99</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>g.score</div><div class="line"><span class="number">99</span></div></pre></td></tr></table></figure>
<h2 id="使用-property"><a href="#使用-property" class="headerlink" title="使用@property"></a>使用@property</h2><p><code>@property</code>是Python内置的一个装饰器，可以把一个getter方法变成属性，同时还会创建另一个装饰器<code>@xxx.setter</code>，负责把一个setter方法变成属性赋值，这样我们就拥有了一个可控的属性操作。如果只定义getter方法而不定义setter方法就会得到一个只读属性。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span><span class="class"><span class="keyword">class</span> <span class="title">Student</span><span class="params">(object)</span>:</span></div><div class="line"><span class="meta">... </span>    @property</div><div class="line"><span class="meta">... </span>    <span class="function"><span class="keyword">def</span> <span class="title">score</span><span class="params">(self)</span>:</span></div><div class="line"><span class="meta">... </span>            <span class="keyword">return</span> self._score</div><div class="line"><span class="meta">... </span>    @score.setter</div><div class="line"><span class="meta">... </span>    <span class="function"><span class="keyword">def</span> <span class="title">score</span><span class="params">(self,value)</span>:</span></div><div class="line"><span class="meta">... </span>            <span class="keyword">if</span> <span class="keyword">not</span> isinstance(value,int):</div><div class="line"><span class="meta">... </span>                    <span class="keyword">raise</span> ValueError(<span class="string">'score must be an integer'</span>)</div><div class="line"><span class="meta">... </span>            <span class="keyword">if</span> value&lt;<span class="number">0</span> <span class="keyword">or</span> value&gt;<span class="number">100</span>:</div><div class="line"><span class="meta">... </span>                    <span class="keyword">raise</span> ValueError(<span class="string">'score must between 0~100'</span>)</div><div class="line"><span class="meta">... </span>            self._score = value</div><div class="line"><span class="meta">... </span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>s = Student()</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>s.score = <span class="number">99</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>s.score</div><div class="line"><span class="number">99</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>s.score = <span class="number">101</span></div><div class="line">Traceback (most recent call last):</div><div class="line">  File <span class="string">"&lt;stdin&gt;"</span>, line <span class="number">1</span>, <span class="keyword">in</span> &lt;module&gt;</div><div class="line">  File <span class="string">"&lt;stdin&gt;"</span>, line <span class="number">10</span>, <span class="keyword">in</span> score</div><div class="line">ValueError: score must between <span class="number">0</span>~<span class="number">100</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>s.score = <span class="string">'a'</span></div><div class="line">Traceback (most recent call last):</div><div class="line">  File <span class="string">"&lt;stdin&gt;"</span>, line <span class="number">1</span>, <span class="keyword">in</span> &lt;module&gt;</div><div class="line">  File <span class="string">"&lt;stdin&gt;"</span>, line <span class="number">8</span>, <span class="keyword">in</span> score</div><div class="line">ValueError: score must be an integer</div></pre></td></tr></table></figure>
<p>注意这里的<code>score</code>是一个property对象，getter方法和setter方法重用了这个名字，而<code>_score</code>是私有属性。实际属性值储存在<code>_score</code>中，<code>score</code>则为这个私有变量提供接口。如果混淆了两者就会出现可怕的bug：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span><span class="class"><span class="keyword">class</span> <span class="title">Student</span><span class="params">(object)</span>:</span></div><div class="line"><span class="meta">... </span>    @property</div><div class="line"><span class="meta">... </span>    <span class="function"><span class="keyword">def</span> <span class="title">score</span><span class="params">(self)</span>:</span></div><div class="line"><span class="meta">... </span>            <span class="keyword">return</span> self.score</div><div class="line"><span class="meta">... </span>    @score.setter</div><div class="line"><span class="meta">... </span>    <span class="function"><span class="keyword">def</span> <span class="title">score</span><span class="params">(self,value)</span>:</span></div><div class="line"><span class="meta">... </span>            <span class="keyword">if</span> <span class="keyword">not</span> isinstance(value,int):</div><div class="line"><span class="meta">... </span>                    <span class="keyword">raise</span> ValueError(<span class="string">'score must be an integer'</span>)</div><div class="line"><span class="meta">... </span>            <span class="keyword">if</span> value&lt;<span class="number">0</span> <span class="keyword">or</span> value&gt;<span class="number">100</span>:</div><div class="line"><span class="meta">... </span>                    <span class="keyword">raise</span> ValueError(<span class="string">'score must between 0~100'</span>)</div><div class="line"><span class="meta">... </span>            self.score = value<span class="comment">#这里会无法停止循环调用score的setter方法</span></div><div class="line"><span class="meta">... </span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>s = Student()</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>s.score = <span class="number">99</span></div><div class="line">Traceback (most recent call last):</div><div class="line">  File <span class="string">"&lt;stdin&gt;"</span>, line <span class="number">1</span>, <span class="keyword">in</span> &lt;module&gt;</div><div class="line">  ...</div><div class="line">  File <span class="string">"&lt;stdin&gt;"</span>, line <span class="number">11</span>, <span class="keyword">in</span> score</div><div class="line">RuntimeError: maximum recursion depth exceeded</div></pre></td></tr></table></figure>
<h2 id="多重继承"><a href="#多重继承" class="headerlink" title="多重继承"></a>多重继承</h2><p>一个子类可以通过多重继承同时获得多个父类的所有功能。</p>
<h3 id="Mixin"><a href="#Mixin" class="headerlink" title="Mixin"></a>Mixin</h3><p>在设计类的继承关系时，通常主线都是单一继承下来的，例如，<code>Dog</code>继承自<code>Animal</code>。但是，如果需要“混入”额外的功能，通过多重继承就可以实现，比如，让<code>Dog</code>除了继承自<code>Animal</code>之外再同时继承<code>Runnable</code>。这种设计通常称之为<code>Mixin</code>。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span><span class="params">(Animal,Runnable)</span>:</span></div><div class="line">	<span class="keyword">pass</span></div></pre></td></tr></table></figure>
<p>为了更好地看出继承关系，我们把<code>Runnable</code>和<code>Flyable</code>改为<code>RunnableMixin</code>和<code>FlyableMixin</code>。类似的，还可以定义出肉食动物<code>CarnivorousMixin</code>和植食动物<code>HerbivoresMixin</code>，让某个动物同时拥有好几个Mixin：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span><span class="params">(Animal,RunnableMixin,CarnivorousMixin)</span>:</span></div><div class="line">	<span class="keyword">pass</span></div></pre></td></tr></table></figure>
<p>Mixin的目的就是给一个类增加多个功能，这样在设计类的时候，我们优先考虑通过多重继承来组合多个Mixin的功能，而不是设计多层次的复杂的继承关系。</p>
<p>Python允许使用多重继承，因此Mixin是一种常见设计。而只允许单一继承的语言（如Java）不能使用Mixin的设计。</p>
<h2 id="定制类"><a href="#定制类" class="headerlink" title="定制类"></a>定制类</h2><p>Python中有许多特殊用途的函数可以帮助我们定制类</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">__slots__</div><div class="line">__len__</div><div class="line">__str__</div><div class="line">__repr__</div><div class="line">__iter__</div><div class="line">__getitem__</div><div class="line">__getattr__</div><div class="line">__call__  <span class="comment">#可使用callable()来判断对象是否是“可调用”对象</span></div></pre></td></tr></table></figure>
<h2 id="使用元类"><a href="#使用元类" class="headerlink" title="使用元类"></a>使用元类</h2><p><code>type()</code>既可以返回一个对象的类型，还可以创建出新的类型。<br><code>metaclass</code>允许创建类或者修改类，可以把类看成是metaclass创建出的来的“实例”。</p>
<p><em>正常情况下不会碰到需要使用<code>metaclass</code>的情况，所以现在先略过。</em></p>
<p><strong>感谢网上恩师<a href="http://www.liaoxuefeng.com/wiki/001374738125095c955c1e6d8bb493182103fac9270762a000" target="_blank" rel="external">廖雪峰老师的Python教程</a>，本文大部分内容都摘自于此。</strong></p>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;实例动态绑定&quot;&gt;&lt;a href=&quot;#实例动态绑定&quot; class=&quot;headerlink&quot; title=&quot;实例动态绑定&quot;&gt;&lt;/a&gt;实例动态绑定&lt;/h2&gt;&lt;p&gt;通常情况下，我们可以给实例绑定任何属性和方法，这就是动态语言的灵活性。但是给一个实例绑定的方法对另一个实例是不起作用的。为了给所有实例都绑定方法，可以给class绑定方法。&lt;/p&gt;
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;addmethod&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(self)&lt;/span&gt;:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;pass&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;Student.addmethod = MethodType(addmethod,&lt;span class=&quot;keyword&quot;&gt;None&lt;/span&gt;,Student)&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="Python基础" scheme="http://yoursite.com/categories/Python%E5%9F%BA%E7%A1%80/"/>
    
    
      <category term="python" scheme="http://yoursite.com/tags/python/"/>
    
  </entry>
  
  <entry>
    <title>Python面向对象编程</title>
    <link href="http://yoursite.com/2016/12/06/Python/PythonOOP/"/>
    <id>http://yoursite.com/2016/12/06/Python/PythonOOP/</id>
    <published>2016-12-06T03:05:07.000Z</published>
    <updated>2017-04-27T02:53:00.000Z</updated>
    
    <content type="html"><![CDATA[<p><code>数据封装</code>、<code>继承</code>和<code>多态</code>是面向对象的三大特点，<code>类</code>和<code>实例</code>是面向对象最重要的概念。在类中定义的函数与普通函数相比只有一点不同，就是第一个参数永远是是咧变量<code>self</code>，并且在调用时不用传递该参数。除此之外，类的方法和普通函数没有什么区别，所以仍然可以使用默认参数、可变参数和关键字参数。</p>
<a id="more"></a>
<h2 id="数据封装"><a href="#数据封装" class="headerlink" title="数据封装"></a>数据封装</h2><p>通过在实例上调用方法可以直接操作对象内部的数据，但无需知道方法内部的实现细节。即，可以用类的方法来<code>封装</code>其数据和逻辑。</p>
<p>和静态语言不同，Python允许对实例变量绑定任何数据，也就是说，对于两个实例变量，虽然它们都是同一个类的不同实例，但拥有的变量名称都可能不同：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span><span class="class"><span class="keyword">class</span> <span class="title">Student</span><span class="params">(object)</span>:</span></div><div class="line"><span class="meta">... </span>    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self,name,score)</span>:</span></div><div class="line"><span class="meta">... </span>            self.name = name</div><div class="line"><span class="meta">... </span>            self.score = score</div><div class="line"><span class="meta">... </span>    <span class="function"><span class="keyword">def</span> <span class="title">print_score</span><span class="params">(self)</span>:</span></div><div class="line"><span class="meta">... </span>            <span class="keyword">print</span> <span class="string">'%s: %s'</span> %(self.name, self.score)</div><div class="line"><span class="meta">... </span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>bart = Student(<span class="string">'Bart'</span>,<span class="number">98</span>)</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>lisa = Student(<span class="string">'Lisa'</span>,<span class="number">80</span>)</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>bart.age = <span class="number">8</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>bart.age </div><div class="line"><span class="number">8</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>lisa.age </div><div class="line">Traceback (most recent call last):</div><div class="line">  File <span class="string">"&lt;stdin&gt;"</span>, line <span class="number">1</span>, <span class="keyword">in</span> &lt;module&gt;</div><div class="line">AttributeError: <span class="string">'Student'</span> object has no attribute <span class="string">'age'</span></div></pre></td></tr></table></figure>
<h2 id="访问限制"><a href="#访问限制" class="headerlink" title="访问限制"></a>访问限制</h2><p>想要类的内部属性不被外部访问，可以加上前缀<code>__</code>将其定义为私有变量。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span><span class="class"><span class="keyword">class</span> <span class="title">Student</span><span class="params">(object)</span>:</span></div><div class="line"><span class="meta">... </span>    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self,name,score)</span>:</span></div><div class="line"><span class="meta">... </span>            self.__name = name</div><div class="line"><span class="meta">... </span>            self.__score = score</div><div class="line"><span class="meta">... </span>    <span class="function"><span class="keyword">def</span> <span class="title">print_score</span><span class="params">(self)</span>:</span></div><div class="line"><span class="meta">... </span>            <span class="keyword">print</span> <span class="string">'%s: %s'</span> %(self.name, self.score)</div><div class="line"><span class="meta">... </span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>bart = Student(<span class="string">'Bart'</span>,<span class="number">98</span>)</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>bart.__name</div><div class="line">Traceback (most recent call last):</div><div class="line">  File <span class="string">"&lt;stdin&gt;"</span>, line <span class="number">1</span>, <span class="keyword">in</span> &lt;module&gt;</div><div class="line">AttributeError: <span class="string">'Student'</span> object has no attribute <span class="string">'__name'</span></div></pre></td></tr></table></figure>
<p>这样使得外部代码不能随意修改对象内部的状态。但也可以使用<code>get_name</code>或者<code>set_score</code>这样的方法获取或者修改（可以检查参数避免传入无效参数）类属性。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_name</span><span class="params">(self)</span>:</span></div><div class="line">	<span class="keyword">return</span> self.__name</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">set_score</span><span class="params">(self,score)</span>:</span></div><div class="line">	<span class="keyword">if</span> <span class="number">0</span> &lt;= score &lt;= <span class="number">100</span>:</div><div class="line">			self.__score = score</div><div class="line">	<span class="keyword">else</span>:</div><div class="line">		<span class="keyword">raise</span> ValueError(<span class="string">'bad score'</span>)</div></pre></td></tr></table></figure>
<p>但值得注意的是，还有一种以一个下划线<code>_</code>开头的实例变量名，比如<code>_name</code>，这样的实例变量名外部是可以访问的，但按照约定俗成的规定，看到这样变量的意思是：“虽然我可以访问，但请把我视为一个私有变量，不要随意访问。”</p>
<h2 id="继承和多态"><a href="#继承和多态" class="headerlink" title="继承和多态"></a>继承和多态</h2><p>在定义一个class的时候可以从现有的class继承，新的class就是<code>子类(Subclass)</code>，被继承的class称为<code>基类、父类或超类(Superclass)</code>。继承可以把父类的所有功能都直接拿过来，子类只需要新增自己特有的方法，也可以把父类不合适的方法覆盖重写。</p>
<p>有了继承，才能有多态。多态使得调用父类型的方法时不需要考虑其切确的子类型，在运行时解释器会根据该对象的确切类型决定具体方法。在调用类实例的方法时，尽量把变量当做父类类型，这样所有的子类类型都可以被正常接收。著名的“开闭”原则：</p>
<ul>
<li>对拓展开放：允许新增子类</li>
<li>对修改封闭：不需要修改依赖父类的函数</li>
</ul>
<p>任何时候，如果没有合适的类可以继承，就继承自object类。</p>
<h2 id="获取对象信息"><a href="#获取对象信息" class="headerlink" title="获取对象信息"></a>获取对象信息</h2><p>在不知道对象信息的时候可以使用内置函数剖析对象获得内部数据。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">type(<span class="number">123</span>)              <span class="comment">#返回一个type类型，指明对象类型</span></div><div class="line">isinstance(<span class="string">'a'</span>,str)    <span class="comment">#返回布尔值，判断对象是否是某种类型</span></div><div class="line">dir(<span class="string">'ABC'</span>)             <span class="comment">#返回一个list，包含对象的所有属性和方法</span></div></pre></td></tr></table></figure>
<p><strong>感谢网上恩师<a href="http://www.liaoxuefeng.com/wiki/001374738125095c955c1e6d8bb493182103fac9270762a000" target="_blank" rel="external">廖雪峰老师的Python教程</a>，本文大部分内容都摘自于此。</strong></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;code&gt;数据封装&lt;/code&gt;、&lt;code&gt;继承&lt;/code&gt;和&lt;code&gt;多态&lt;/code&gt;是面向对象的三大特点，&lt;code&gt;类&lt;/code&gt;和&lt;code&gt;实例&lt;/code&gt;是面向对象最重要的概念。在类中定义的函数与普通函数相比只有一点不同，就是第一个参数永远是是咧变量&lt;code&gt;self&lt;/code&gt;，并且在调用时不用传递该参数。除此之外，类的方法和普通函数没有什么区别，所以仍然可以使用默认参数、可变参数和关键字参数。&lt;/p&gt;
    
    </summary>
    
      <category term="Python基础" scheme="http://yoursite.com/categories/Python%E5%9F%BA%E7%A1%80/"/>
    
    
      <category term="python" scheme="http://yoursite.com/tags/python/"/>
    
  </entry>
  
  <entry>
    <title>Python正则表达式</title>
    <link href="http://yoursite.com/2016/12/06/Python/PythonRE/"/>
    <id>http://yoursite.com/2016/12/06/Python/PythonRE/</id>
    <published>2016-12-06T03:05:07.000Z</published>
    <updated>2017-04-27T03:07:49.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="匹配符"><a href="#匹配符" class="headerlink" title="匹配符"></a>匹配符</h2><table>
<thead>
<tr>
<th>符号</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>\d</code></td>
<td>数字</td>
</tr>
<tr>
<td><code>\w</code></td>
<td>字母或数字</td>
</tr>
<tr>
<td><code>\s</code></td>
<td>空白符</td>
</tr>
<tr>
<td><code>.</code></td>
<td>任意字符</td>
</tr>
<tr>
<td><code>{n}</code>/<code>{n,m}</code></td>
<td>n个字符/n~m个字符</td>
</tr>
<tr>
<td><code>+</code></td>
<td>至少一个字符</td>
</tr>
<tr>
<td><code>*</code></td>
<td>任意个字符</td>
</tr>
<tr>
<td><code>?</code></td>
<td>0个或者1个字符</td>
</tr>
<tr>
<td><code>[]</code></td>
<td>表示范围</td>
</tr>
<tr>
<td><code>^</code></td>
<td>开头</td>
</tr>
<tr>
<td><code>$</code></td>
<td>结尾</td>
</tr>
</tbody>
</table>
<a id="more"></a>
<h2 id="re模块"><a href="#re模块" class="headerlink" title="re模块"></a>re模块</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">re.match(<span class="string">r'正则表达式'</span>,<span class="string">'输入字符串'</span>)</div><div class="line">re.splite(<span class="string">r'正则表达式'</span>,<span class="string">'输入字符串'</span>) <span class="comment">#切分字符串</span></div></pre></td></tr></table></figure>
<h2 id="分组"><a href="#分组" class="headerlink" title="分组"></a>分组</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span>m = re.match(<span class="string">r'^(\d&#123;3&#125;)-(\d&#123;3,8&#125;)$'</span>,<span class="string">'010-12345'</span>)</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>m</div><div class="line">&lt;_sre.SRE_Match object at <span class="number">0x10054fc68</span>&gt;</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>m.group(<span class="number">0</span>)</div><div class="line"><span class="string">'010-12345'</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>m.group(<span class="number">1</span>)</div><div class="line"><span class="string">'010'</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>m.group(<span class="number">2</span>)</div><div class="line"><span class="string">'12345'</span></div></pre></td></tr></table></figure>
<h2 id="贪婪匹配"><a href="#贪婪匹配" class="headerlink" title="贪婪匹配"></a>贪婪匹配</h2><p>正则匹配默认是贪婪匹配，也就是说会匹配尽可能多的字符。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span>re.match(<span class="string">r'^(\d+)(0*)$'</span>,<span class="string">'102300'</span>).groups()</div><div class="line">(<span class="string">'102300'</span>, <span class="string">''</span>)</div><div class="line"><span class="comment">#\d+的贪婪匹配把后面的0全部匹配了，结果0*就只能匹配空字符串了</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>re.match(<span class="string">r'^(\d+?)(0*)$'</span>,<span class="string">'102300'</span>).groups()</div><div class="line">(<span class="string">'1023'</span>, <span class="string">'00'</span>)</div><div class="line"><span class="comment">#加个？就可以让\d+采用非贪婪匹配（也就是尽可能少地匹配）</span></div></pre></td></tr></table></figure>
<h2 id="预编译"><a href="#预编译" class="headerlink" title="预编译"></a>预编译</h2><p>在Python中使用正则表达式时，re模块内部会干两件事：  </p>
<ol>
<li>编译正则表达式，如果正则表达式的字符串本省不合法就会报错；  </li>
<li>用编译后的正则表达式去匹配字符串。</li>
</ol>
<p>如果一个正则表达式需要重复使用几千次，考虑效率，可以预编译正则表达式，接下来不需要再重复编译了，直接匹配：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> re</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>re_telephone = re.compile(<span class="string">r'^(\d&#123;3&#125;)-(\d&#123;3,8&#125;)$'</span>)</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>re_telephone.match(<span class="string">'010-12345'</span>).groups()</div><div class="line">(<span class="string">'010'</span>, <span class="string">'12345'</span>)</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>re_telephone.match(<span class="string">'010-80992'</span>).groups()</div><div class="line">(<span class="string">'010'</span>, <span class="string">'80992'</span>)</div></pre></td></tr></table></figure>
<p><strong>感谢网上恩师<a href="http://www.liaoxuefeng.com/wiki/001374738125095c955c1e6d8bb493182103fac9270762a000" target="_blank" rel="external">廖雪峰老师的Python教程</a>，本文大部分内容都摘自于此。</strong></p>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;匹配符&quot;&gt;&lt;a href=&quot;#匹配符&quot; class=&quot;headerlink&quot; title=&quot;匹配符&quot;&gt;&lt;/a&gt;匹配符&lt;/h2&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;符号&lt;/th&gt;
&lt;th&gt;含义&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;\d&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;数字&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;\w&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;字母或数字&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;\s&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;空白符&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;.&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;任意字符&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;{n}&lt;/code&gt;/&lt;code&gt;{n,m}&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;n个字符/n~m个字符&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;+&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;至少一个字符&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;*&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;任意个字符&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;?&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;0个或者1个字符&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;表示范围&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;^&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;开头&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;$&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;结尾&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
    
    </summary>
    
      <category term="Python基础" scheme="http://yoursite.com/categories/Python%E5%9F%BA%E7%A1%80/"/>
    
    
      <category term="python" scheme="http://yoursite.com/tags/python/"/>
    
  </entry>
  
</feed>
